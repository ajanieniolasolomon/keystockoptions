webpackJsonp([37],{1162:function(e,t,n){"use strict";function o(e){var t=e.className,n=e.icon,o=void 0===n?"":n,r=e.onClick,a=e.title;return i.createElement("span",{title:a,className:t,dangerouslySetInnerHTML:{__html:o},onClick:r})}Object.defineProperty(t,"__esModule",{value:!0});var i=n(46);t.Icon=o},1877:function(e,t,n){"use strict";function o(){return i.__assign({},d.getRestrictedToolSet(),{Alert:r.enabled("alerts")?a.ToolWidgetAlert:void 0,Ideas:s.ToolWidgetCharts,Replay:!r.enabled("widget")&&h.isFeatureEnabled("bar-replay")?u.ToolWidgetReplay:void 0,AlertReferral:r.enabled("header_fake_features_buttons")?l.ToolWidgetAlertReferral:void 0,SaveLoadReferral:r.enabled("header_fake_features_buttons")?c.ToolWidgetSaveLoadReferral:void 0})}var i,r,a,s,l,c,u,d,h;Object.defineProperty(t,"__esModule",{value:!0}),i=n(4),r=n(1),a=n(2341),s=n(2344),l=n(2351),c=n(2352),u=n(2357),d=n(2363),h=n(22),t.getToolSet=o},1896:function(e,t,n){"use strict";function o(){_.fire()}var i,r,a,s,l,c,u,d,h,p,v,m,g,f,_,w;Object.defineProperty(t,"__esModule",{value:!0}),i=n(4),n(92),r=n(46),a=n(187),s=n(456),l=n(405),c=n(3),u=n(626),d=n(2082),h=n(2083),function(e){e[e.ToLeft=0]="ToLeft",e[e.ToRight=1]="ToRight",e[e.None=2]="None"}(p=t.DirectionHorz||(t.DirectionHorz={})),function(e){e[e.ToTop=0]="ToTop",e[e.ToBottom=1]="ToBottom",e[e.None=2]="None"}(v=t.DirectionVert||(t.DirectionVert={})),m=p.ToRight,g=v.ToBottom,f=5,_=new c,t.globalClosePopupMenu=o,w=function(e){function t(t){var n=e.call(this,t)||this;return n._handleClose=function(){n.props.onClose()},n._handleClickOutside=function(e){var t=n.props,o=t.closeOnClickOutside,i=t.onClickOutside,r=t.doNotCloseOn;i&&i(e),!o||void 0!==r&&a.findDOMNode(r).contains(e.target)||n._handleClose()},n._handleMeasure=function(e){var t,o,i=e.height,r=e.width,a=n.props,s=a.directionHorz,l=void 0===s?m:s,c=a.directionVert,u=void 0===c?g:c,d=a.position,h=a.positionType,_=window.innerHeight,w=window.innerWidth,y=_-2*f,C="function"==typeof d?d(r,i):d;"fixed"===h?(t=Math.max(f,C.x-Math.max(0,r-(l===p.ToLeft?0:w-C.x-f))),o=Math.max(f,C.y-Math.max(0,i-(u===v.ToTop?0:_-C.y-f)))):(t=C.x-(l===p.ToLeft?r:0),o=C.y-(u===v.ToTop?i:0)),n.setState({appearingContentHeight:i,appearingDirectionHorz:l,appearingDirectionVert:i>y?v.None:u,appearingMenuHeight:i>=y?y:void 0,appearingMenuWidth:C.overrideWidth,appearingPosition:{x:t,y:o},isMeasureValid:!0})},n.state={appearingContentHeight:0},n}return i.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){this.props.isOpened&&!e.isOpened&&this.setState({isMeasureValid:void 0})},t.prototype.componentDidUpdate=function(e,t){e.isOpened&&!this.props.isOpened&&_.unsubscribe(this,this._handleClose),!e.isOpened&&this.props.isOpened&&_.subscribe(this,this._handleClose)},t.prototype.componentWillUnmount=function(){_.unsubscribe(this,this._handleClose)},t.prototype.render=function(){
var e,t=this.props,n=t.children,o=t.isOpened,i=t.minWidth,a=t.positionType,c=t.theme,d=void 0===c?h:c,p=t.className,v=this.state,m=v.appearingMenuHeight,g=v.appearingMenuWidth,f=v.appearingPosition,_=v.isMeasureValid;return o?this._wrapOrNot(r.createElement(u.OutsideEvent,{handler:this._handleClickOutside,mouseDown:!0,touchStart:!0,ctor:"div"},r.createElement("div",{className:l(p,d.menuWrap,(e={},e[d.isMeasuring]=!_,e)),style:{height:m,left:f&&f.x,minWidth:i,position:a,top:f&&f.y,width:g}},r.createElement("div",{className:d.scrollWrap},r.createElement(s,{onMeasure:this._handleMeasure,shouldMeasure:!_,whitelist:["height","width"]},r.createElement("div",{className:d.menuBox},n)))))):null},t.prototype._wrapOrNot=function(e){return"fixed"===this.props.positionType?r.createElement(d.OutsideRenderWrap,null,e):e},t.defaultProps={closeOnClickOutside:!0,directionHorz:m,directionVert:g,positionType:"fixed"},t}(r.PureComponent),t.PopupMenu=w},1897:function(e,t,n){"use strict";function o(e){return a.createElement(e.href?"a":"div",e)}function i(e){e.stopPropagation()}var r,a,s,l,c,u;Object.defineProperty(t,"__esModule",{value:!0}),r=n(4),a=n(46),s=n(405),l=n(1896),c=n(2084),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._handleClick=function(e){var n=t.props,o=n.dontClosePopup,i=n.isDisabled,r=n.onClick,a=n.onClickArg;i||(r&&r(a,e),o||l.globalClosePopupMenu())},t}return r.__extends(t,e),t.prototype.render=function(){var e,t,n=this.props,r=n.className,l=n.forceShowHint,u=n.hint,d=n.icon,h=n.isActive,p=n.isDisabled,v=n.isHovered,m=n.appearAsDisabled,g=n.label,f=n.link,_=n.showToolboxOnHover,w=n.target,y=n.toolbox,C=n.theme,b=void 0===C?c:C;return a.createElement(o,{className:s(r,b.item,d&&b.withIcon,(e={},e[b.isActive]=h,e[b.isDisabled]=p||m,e[b.hovered]=v,e)),href:f,target:w,onClick:this._handleClick},void 0!==d&&a.createElement("div",{className:b.icon,dangerouslySetInnerHTML:{__html:d}}),a.createElement("div",{className:b.labelRow},a.createElement("div",{className:b.label},g)),(void 0!==u||l)&&a.createElement("div",{className:b.hint},u),void 0!==y&&a.createElement("div",{onClick:i,className:s(b.toolbox,(t={},t[b.showOnHover]=_,t))},y))},t}(a.PureComponent),t.PopupMenuItem=u},1903:function(e,t,n){"use strict";function o(e){var t=e.text,n=e.className,o=e.displayMode,c=e.collapseWhen,u=void 0===c?["medium","small"]:c,d=i.__rest(e,["text","className","displayMode","collapseWhen"]),h=!u.includes(o);return r.createElement(s.ToolWidgetButton,i.__assign({},d,{text:h?t:void 0,className:a(n,l.button,h?l.withText:l.withoutText)}))}var i,r,a,s,l;Object.defineProperty(t,"__esModule",{value:!0}),i=n(4),r=n(46),a=n(405),s=n(1913),l=n(2342),t.ToolWidgetCollapsibleButton=o},1904:function(e,t,n){"use strict";var o,i,r,a,s;Object.defineProperty(t,"__esModule",{value:!0}),o=n(4),i=n(46),r=n(405),a=n(2347),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,s=o.__rest(e,["children","className"])
;return i.createElement("div",o.__assign({className:r(n,a.wrap)},s),t)},t}(i.PureComponent),t.ToolWidgetRowWrap=s},1913:function(e,t,n){"use strict";function o(e){var t,n=e.icon,o=e.isActive,c=e.isOpened,u=e.isDisabled,d=e.onClick,h=e.text,p=e.textBeforeIcon,v=e.title,m=e.theme,g=void 0===m?l:m,f=e.className,_=e.forceInteractive,w=i.__rest(e,["icon","isActive","isOpened","isDisabled","onClick","text","textBeforeIcon","title","theme","className","forceInteractive"]),y=a(f,g.button,"apply-common-tooltip",(t={},t[g.isActive]=o,t[g.isOpened]=c,t[g.isInteractive]=(_||!!d)&&!u,t[g.isDisabled]=u,t)),C=n&&("string"==typeof n?r.createElement(s.Icon,{className:g.icon,icon:n}):r.cloneElement(n,{className:g.icon}));return r.createElement("div",i.__assign({},w,{className:y,onClick:u?void 0:d,title:v}),p&&h&&r.createElement("div",{className:a("js-button-text",g.text)},h),C,!p&&h&&r.createElement("div",{className:a("js-button-text",g.text)},h))}var i,r,a,s,l;Object.defineProperty(t,"__esModule",{value:!0}),i=n(4),r=n(46),a=n(405),s=n(1162),l=n(1925),t.ToolWidgetButton=o},1916:function(e,t,n){"use strict";function o(){return i.createElement("div",{className:r.separator})}var i,r;Object.defineProperty(t,"__esModule",{value:!0}),i=n(46),r=n(2087),t.PopupMenuSeparator=o},1925:function(e,t){e.exports={button:"button-2ioYhFEY-",isInteractive:"isInteractive-20uLObIc-",hovered:"hovered-3perbaxJ-",isActive:"isActive-22S-lGpa-",isOpened:"isOpened-p-Ume5l9-",isDisabled:"isDisabled-1_tmrLfP-",text:"text-1sK7vbvh-",icon:"icon-beK_KS0k-"}},1926:function(e,t,n){"use strict";var o,i,r,a,s,l,c,u;Object.defineProperty(t,"__esModule",{value:!0}),o=n(4),i=n(46),r=n(187),a=n(405),s=n(1896),l=n(2085),c=n(2346),u=function(e){function t(t){var n=e.call(this,t)||this;return n._handleClick=function(){n._handleToggleDropdown()},n._handleToggleDropdown=function(e){var t=n.state.isOpened,o="boolean"==typeof e?e:!t;n.setState({isOpened:o})},n._handleClose=function(){n._handleToggleDropdown(!1)},n._getDropdownPosition=function(){var e=r.findDOMNode(n).getBoundingClientRect();return{x:e.left+(n.props.directionHorz===s.DirectionHorz.ToLeft?e.width:0),y:e.bottom+2}},n.state={isOpened:!1},n}return o.__extends(t,e),t.prototype.render=function(){var e,t=this.props,n=t.id,o=t.arrow,r=t.children,u=t.content,d=t.directionHorz,h=t.isDisabled,p=t.minWidth,v=t.title,m=t.className,g=this.state.isOpened,f=a(m,c.button,"apply-common-tooltip",(e={},e[c.isDisabled]=h,e[c.isOpened]=g,e));return i.createElement("div",{id:n,className:f,onClick:h?void 0:this._handleClick,title:v},u,o&&i.createElement("div",{className:c.arrow},i.createElement("div",{className:c.arrowWrap},i.createElement(l.ToolWidgetCaret,{dropped:g}))),i.createElement(s.PopupMenu,{closeOnClickOutside:this.props.closeOnClickOutside,directionHorz:d,doNotCloseOn:this,isOpened:g,minWidth:p,onClose:this._handleClose,position:this._getDropdownPosition},r))},t.defaultProps={arrow:!0,closeOnClickOutside:!0},t}(i.PureComponent),t.ToolWidgetMenu=u},1955:function(e,t,n){"use strict";function o(e){
var t=e.className,n=i.__rest(e,["className"]);return r.createElement(s.ToolWidgetButton,i.__assign({},n,{className:a(t,l.button)}))}var i,r,a,s,l;Object.defineProperty(t,"__esModule",{value:!0}),i=n(4),r=n(46),a=n(405),s=n(1913),l=n(2340),t.ToolWidgetIconButton=o},1956:function(e,t,n){"use strict";var o,i,r,a,s,l,c,u;Object.defineProperty(t,"__esModule",{value:!0}),o=n(4),n(2),i=n(46),r=n(405),a=n(2088),s=n(598),l=n(600),c={add:window.t("Add to favorites"),remove:window.t("Remove from favorites")},u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._handleClick=function(e){var n=t.props,o=n.onClick,i=n.onClickArg;o&&o(i,e)},t}return o.__extends(t,e),t.prototype.render=function(){var e,t=this.props.isFilled;return i.createElement("span",{className:r(a.star,"apply-common-tooltip",(e={},e[a.checked]=t,e)),dangerouslySetInnerHTML:{__html:t?s:l},onClick:this._handleClick,title:t?c.remove:c.add})},t}(i.PureComponent),t.FavoriteButton=u},1965:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill="currentColor" fill-rule="evenodd"><path fill-rule="nonzero" d="M14 17a3 3 0 1 1 0-6 3 3 0 0 1 0 6zm0-1a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/><path d="M5.005 16A1.003 1.003 0 0 1 4 14.992v-1.984A.998.998 0 0 1 5 12h1.252a7.87 7.87 0 0 1 .853-2.06l-.919-.925c-.356-.397-.348-1 .03-1.379l1.42-1.42a1 1 0 0 1 1.416.007l.889.882A7.96 7.96 0 0 1 12 6.253V5c0-.514.46-1 1-1h2c.557 0 1 .44 1 1v1.253a7.96 7.96 0 0 1 2.06.852l.888-.882a1 1 0 0 1 1.416-.006l1.42 1.42a.999.999 0 0 1 .029 1.377s-.4.406-.918.926a7.87 7.87 0 0 1 .853 2.06H23c.557 0 1 .447 1 1.008v1.984A.998.998 0 0 1 23 16h-1.252a7.87 7.87 0 0 1-.853 2.06l.882.888a1 1 0 0 1 .006 1.416l-1.42 1.42a1 1 0 0 1-1.415-.007l-.889-.882a7.96 7.96 0 0 1-2.059.852v1.248c0 .56-.45 1.005-1.008 1.005h-1.984A1.004 1.004 0 0 1 12 22.995v-1.248a7.96 7.96 0 0 1-2.06-.852l-.888.882a1 1 0 0 1-1.416.006l-1.42-1.42a1 1 0 0 1 .007-1.415l.882-.888A7.87 7.87 0 0 1 6.252 16H5.005zm3.378-6.193l-.227.34A6.884 6.884 0 0 0 7.14 12.6l-.082.4H5.005C5.002 13 5 13.664 5 14.992c0 .005.686.008 2.058.008l.082.4c.18.883.52 1.71 1.016 2.453l.227.34-1.45 1.46c-.004.003.466.477 1.41 1.422l1.464-1.458.34.227a6.959 6.959 0 0 0 2.454 1.016l.399.083v2.052c0 .003.664.005 1.992.005.005 0 .008-.686.008-2.057l.399-.083a6.959 6.959 0 0 0 2.454-1.016l.34-.227 1.46 1.45c.003.004.477-.466 1.422-1.41l-1.458-1.464.227-.34A6.884 6.884 0 0 0 20.86 15.4l.082-.4h2.053c.003 0 .005-.664.005-1.992 0-.005-.686-.008-2.058-.008l-.082-.4a6.884 6.884 0 0 0-1.016-2.453l-.227-.34 1.376-1.384.081-.082-1.416-1.416-1.465 1.458-.34-.227a6.959 6.959 0 0 0-2.454-1.016L15 7.057V5c0-.003-.664-.003-1.992 0-.005 0-.008.686-.008 2.057l-.399.083a6.959 6.959 0 0 0-2.454 1.016l-.34.227-1.46-1.45c-.003-.004-.477.466-1.421 1.408l1.457 1.466z"/></g></svg>'},1973:function(e,t,n){"use strict";function o(e,t,n){var o,i,r,a,s;for(void 0===n&&(n={}),o=Object.assign({},t),i=0,r=Object.keys(t);i<r.length;i++)a=r[i],(s=n[a]||a)in e&&(o[a]=[e[s],t[a]].join(" "));return o}
Object.defineProperty(t,"__esModule",{value:!0}),t.weakComposeClasses=o},2011:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><rect width="18" height="16" fill="none" stroke="currentColor" rx="2" x=".5" y=".5" transform="translate(5 5)"/></svg>'},2012:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill="none" fill-rule="evenodd" stroke="currentColor" transform="translate(5 5)"><rect width="18" height="16" rx="2" x=".5" y=".5"/><path stroke-linecap="square" d="M9.5 1v15"/></g></svg>'},2013:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill="none" fill-rule="evenodd" stroke="currentColor" transform="translate(5 5)"><rect width="18" height="16" rx="2" x=".5" y=".5"/><path stroke-linecap="square" d="M1 8.5h17"/></g></svg>'},2014:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill="none" fill-rule="evenodd" stroke="currentColor" transform="translate(5 5)"><rect width="18" height="16" rx="2" x=".5" y=".5"/><path stroke-linecap="square" d="M6.5 1v15m6-15v15"/></g></svg>'},2015:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill="none" fill-rule="evenodd" stroke="currentColor" transform="translate(5 5)"><rect width="18" height="16" rx="2" x=".5" y=".5"/><path stroke-linecap="square" d="M9.5 1v15m.5-7.5h8"/></g></svg>'},2016:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill="none" fill-rule="evenodd" stroke="currentColor" transform="translate(5 5)"><rect width="18" height="15" rx="2" x=".5" y=".5"/><path stroke-linecap="square" d="M1 5.5h17m-17 5h17"/></g></svg>'},2017:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill="none" fill-rule="evenodd" stroke="currentColor" transform="translate(5 5)"><rect width="18" height="16" rx="2" x=".5" y=".5"/><path stroke-linecap="square" d="M9.5 1v15M1 8.5h17"/></g></svg>'},2018:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill="none" fill-rule="evenodd" stroke="currentColor" transform="translate(5 5)"><rect width="18" height="16" rx="2" x=".5" y=".5"/><path stroke-linecap="square" d="M6.5 1v15m6-15v15M1 8.5h17"/></g></svg>'},2019:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill="none" fill-rule="evenodd" stroke="currentColor" transform="translate(4 5)"><rect width="20" height="16" rx="2" x=".5" y=".5"/><path stroke-linecap="square" d="M5.5 1v15m5-15v15m5-15v15M1 8.5h19"/></g></svg>'},2020:function(e,t){
e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill="none" fill-rule="evenodd" stroke="currentColor" transform="translate(5 5)"><rect width="18" height="16" rx="2" x=".5" y=".5"/><path stroke-linecap="square" d="M9.5 1v7M1 8.5h17"/></g></svg>'},2055:function(e,t,n){"use strict";function o(e){var t,n,o,i;void 0===e&&(e={}),window.is_authenticated?(t="",Object.keys(e).forEach(function(n){t+='<input type="text" name="'+n+'" value="'+e[n]+'">'}),n='<form method="POST" target="_blank" action="/chart/" style="display: none;"><input type="text" name="new" value="1">'+t+'<input type="submit"></form>',o=$(n),$("body").append(o),o.submit()):(i=$.param(e),window.open("/chart/"+(i?"?"+i:""),"_blank"))}Object.defineProperty(t,"__esModule",{value:!0}),n(14),t.openNewChart=o},2081:function(e,t,n){"use strict";function o(e){return r.createElement(a.ToolWidgetCollapsibleButton,i.__assign({},e,{icon:s,text:l.alert,title:l.createAlert}))}var i,r,a,s,l;Object.defineProperty(t,"__esModule",{value:!0}),i=n(4),n(2),r=n(46),a=n(1903),s=n(2343),l={alert:window.t("Alert"),createAlert:window.t("Create Alert")},t.ToolWidgetAlertView=o},2082:function(e,t,n){"use strict";function o(e){var n=t.formatLayerId(e),o=document.getElementById(n);return o||(o=document.createElement("div"),o.id=n,document.body.appendChild(o)),c[e]=(c[e]||0)+1,o}function i(e){var n=t.formatLayerId(e),o=document.getElementById(n);c[e]&&(c[e]-=1),o&&0===c[e]&&document.body.removeChild(o)}var r,a,s,l,c,u;Object.defineProperty(t,"__esModule",{value:!0}),r=n(4),a=n(46),s=n(187),l=0,c={},t.formatLayerId=function(e){return"__outside-render-"+e},u=function(e){function t(t){return e.call(this,t)||this}return r.__extends(t,e),t.prototype.componentDidMount=function(){this._rememberLayer(),this._renderLayer()},t.prototype.componentDidUpdate=function(e){this.props.layerId!==e.layerId&&(i(this._layerId),this._rememberLayer()),this._renderLayer()},t.prototype.componentWillUnmount=function(){s.unmountComponentAtNode(this._layer),i(this._layerId)},t.prototype.render=function(){return null},t.prototype._rememberLayer=function(){var e=this.props.layerId,t=void 0===e?l+++"":e;this._layerId=t,this._layer=o(t)},t.prototype._renderLayer=function(){s.render(a.createElement("div",null,this.props.children),this._layer)},t}(a.Component),t.OutsideRenderWrap=u},2083:function(e,t){e.exports={menuWrap:"menuWrap-23ejLU7n-",isMeasuring:"isMeasuring-26jTjsBf-",scrollWrap:"scrollWrap-2ReEQpR0-",menuBox:"menuBox-3CsColoQ-",isHidden:"isHidden-1CunrsTV-"}},2084:function(e,t){e.exports={item:"item-2xPVYue0-",hovered:"hovered-1uf45E05-",isDisabled:"isDisabled-1wLqKupj-",isActive:"isActive-2j-GhQs_-",icon:"icon-2Qm7YIcz-",hint:"hint-1IhIvLPB-",toolbox:"toolbox-3ulPxfe--",withIcon:"withIcon-1xBjf-oB-",labelRow:"labelRow-3Q0rdE8--",label:"label-3Xqxy756-",showOnHover:"showOnHover-1q6ySzZc-"}},2085:function(e,t,n){"use strict";function o(e){var t,n=e.dropped,o=e.className;return i.createElement(a.Icon,{className:r(o,s.icon,(t={},t[s.dropped]=n,t)),icon:l})}
var i,r,a,s,l;Object.defineProperty(t,"__esModule",{value:!0}),i=n(46),r=n(405),a=n(1162),s=n(2345),l=n(191),t.ToolWidgetCaret=o},2086:function(e,t,n){"use strict";var o,i,r,a,s,l,c,u,d,h,p,v,m,g,f,_,w,y;Object.defineProperty(t,"__esModule",{value:!0}),o=n(4),n(2),i=n(46),r=n(405),a=n(1897),s=n(1916),l=n(1904),c=n(1926),u=n(1903),d=n(2353),h=n(2355),p=n(1925),v=n(2356),m=n(1973),g=m.weakComposeClasses(p,v),f=o.__assign({},p,g),_={copy:window.t("Copy"),makeCopy:window.t("Make a Copy"),newChartLayout:window.t("New Chart Layout"),loadChartLayout:window.t("Load Chart Layout..."),rename:window.t("Rename..."),renameChartLayout:window.t("Rename Chart Layout"),saveAs:window.t("Make a Copy..."),saveChartLayout:window.t("Save"),saveChartLayoutLong:window.t("Save Chart Layout saves not just some particular chart, it saves all charts for all symbols and intervals which you are modifying while working with this Layout")},w=[],y=function(e){function t(t){var n=e.call(this,t)||this;return n._handleSaveHoverBegin=function(){n.setState({iconHovered:!0})},n._handleSaveHoverEnd=function(){n.setState({iconHovered:!1})},n.state={iconHovered:!1},n}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.id,n=e.isReadOnly,o=e.displayMode,a=e.isProcessing,s=e.title,p=e.chartId,v=e.wasChanges,m=e.onCloneChart,g=e.onSaveChart,y=e.hideMenu,C=this.state.iconHovered,b=!n&&!y,S="saved";return!v&&s||(S="unsaved"),a&&(S="saving"),i.createElement(l.ToolWidgetRowWrap,null,n?i.createElement(l.ToolWidgetRowWrap,null,i.createElement(u.ToolWidgetCollapsibleButton,{id:t,displayMode:o,icon:i.createElement(d.CloudSpinner,{size:28,state:"unsaved",isHovered:C}),isDisabled:a,onClick:m,text:_.copy,title:_.makeCopy,onMouseEnter:this._handleSaveHoverBegin,onMouseLeave:this._handleSaveHoverEnd,collapseWhen:w})):i.createElement(l.ToolWidgetRowWrap,null,i.createElement(u.ToolWidgetCollapsibleButton,{id:t,displayMode:o,icon:i.createElement(d.CloudSpinner,{size:28,state:S,isHovered:C}),isDisabled:p&&!v||a,onClick:g,text:s||_.saveChartLayout,title:_.saveChartLayoutLong,onMouseEnter:this._handleSaveHoverBegin,onMouseLeave:this._handleSaveHoverEnd,theme:f,collapseWhen:w}),b&&i.createElement(c.ToolWidgetMenu,{className:r(h.menu,"js-save-load-menu-open-button"),arrow:!0},this._renderMenuItems())))},t.prototype._renderMenuItems=function(){var e=this.props,t=e.wasChanges,n=e.isProcessing,o=e.chartId,r=e.onSaveChart,l=e.onRenameChart,c=e.onSaveAsChart,u=e.onLoadChart,d=e.onNewChart,h=[i.createElement(a.PopupMenuItem,{key:"save",isDisabled:!!(n||!t&&o),label:_.saveChartLayout,onClick:r})];return o&&h.push.apply(h,[i.createElement(s.PopupMenuSeparator,{key:"existing-chart-section-begin"}),i.createElement(a.PopupMenuItem,{key:"rename",label:_.rename,onClick:l}),i.createElement(a.PopupMenuItem,{key:"save-as",label:_.saveAs,onClick:c})]),h.push.apply(h,[i.createElement(s.PopupMenuSeparator,{key:"platform-section-begin"}),i.createElement(a.PopupMenuItem,{key:"new-chart",label:_.newChartLayout,onClick:d}),i.createElement(a.PopupMenuItem,{key:"load-chart",
className:"js-save-load-menu-item-load-chart",label:_.loadChartLayout,onClick:u})]),h},t}(i.PureComponent),t.ToolWidgetSaveLoadView=y},2087:function(e,t){e.exports={separator:"separator-25lkUpN--"}},2088:function(e,t){e.exports={star:"star-uhAI7sV4-",checked:"checked-2bhy04CF-"}},2089:function(e,t,n){"use strict";var o,i,r,a,s,l;Object.defineProperty(t,"__esModule",{value:!0}),o=n(4),i=n(46),r=n(405),a=n(1913),s=n(2365),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._handleClick=function(){var e=t.props,n=e.onClick,o=e.onClickArg;n&&n(o)},t}return o.__extends(t,e),t.prototype.render=function(){var e,t=this.props,n=t.isFirst,o=t.isLast,l=t.hint,c=t.text,u=t.icon,d=t.isActive,h=t.isDisabled,p=t.className;return i.createElement(a.ToolWidgetButton,{icon:u,text:c,title:l,isDisabled:h,isActive:d,onClick:this._handleClick,className:r(p,s.button,(e={},e[s.first]=n,e[s.last]=o,e))})},t}(i.PureComponent),t.ToolWidgetQuickButton=l},2090:function(e,t,n){"use strict";var o,i,r,a,s,l,c;Object.defineProperty(t,"__esModule",{value:!0}),o=n(4),n(2),i=n(46),r=n(405),a=n(2379),s=n(2380),l={remove:window.t("Remove")},c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._handleClick=function(e){var n=t.props,o=n.onClick,i=n.onClickArg;o&&o(i,e)},t}return o.__extends(t,e),t.prototype.render=function(){return i.createElement("span",{className:r(a.button,"apply-common-tooltip",this.props.hidden&&a.hidden),dangerouslySetInnerHTML:{__html:s},onClick:this._handleClick,title:l.remove})},t}(i.PureComponent),t.RemoveButton=c},2091:function(e,t,n){"use strict";function o(e){var t,n,o=e.onClick,i=e.label,u=e.hint,d=e.isChecked,h=e.isLabelCentered;return r.createElement("div",{className:a(l.toggler,(t={},t[l.checked]=d,t)),onClick:o},r.createElement("div",{className:a(l.label,(n={},n[l.centered]=h,n))},i),r.createElement(s.Icon,{className:"apply-common-tooltip",title:u,icon:c}))}var i,r,a,s,l,c,u;Object.defineProperty(t,"__esModule",{value:!0}),i=n(4),r=n(46),a=n(405),s=n(1162),l=n(2407),c=n(2408),t.Toggler=o,u=function(e){function t(t){var n=e.call(this,t)||this;return n._onChange=function(){n.setState({isChecked:n.props.watchedValue.value()})},n._handleClick=function(){var e=n.props;(0,e.onClick)(e.watchedValue)},n.state={isChecked:n.props.watchedValue.value()},n}return i.__extends(t,e),t.prototype.componentDidMount=function(){this.props.watchedValue.subscribe(this._onChange)},t.prototype.componentWillUnmount=function(){this.props.watchedValue.unsubscribe(this._onChange)},t.prototype.render=function(){var e=this.props,t=e.label,n=e.hint,i=e.isLabelCentered,a=this.state.isChecked;return r.createElement(o,{label:t,hint:n,isChecked:a,isLabelCentered:i,onClick:this._handleClick})},t}(r.PureComponent),t.TogglerWatched=u},2340:function(e,t){e.exports={button:"button-2-lC3gh4-"}},2341:function(e,t,n){"use strict";var o,i,r,a,s;Object.defineProperty(t,"__esModule",{value:!0}),o=n(4),i=n(46),n(133),r=n(454),a=n(2081),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this
;return t._handleClick=function(){window.runOrSignIn(function(){r.MakeAlertDialog({trackEvent:"chart"})},{source:"Create alert in header",sourceMeta:"Chart"})},t}return o.__extends(t,e),t.prototype.render=function(){return i.createElement(a.ToolWidgetAlertView,o.__assign({},this.props,{onClick:this._handleClick}))},t}(i.PureComponent),t.ToolWidgetAlert=s},2342:function(e,t){e.exports={button:"button-YsN2vRuA-",withText:"withText-JhQdRoPu-",withoutText:"withoutText-f6SoijeW-"}},2343:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path d="M23 14.5a8.5 8.5 0 1 0-8.5 8.5h.5v-1h-.5a7.5 7.5 0 1 1 7.5-7.5v.5h1v-.5z"/><path d="M21 20v-4h-1v4h-4v1h4v4h1v-4h4v-1h-4z"/><path d="M11 14v1h4V9h-1v5zM9.406 3.762L4.81 7.62l.643.766 4.596-3.857zm9.545.766l4.596 3.857.643-.766-4.596-3.857z"/></svg>'},2344:function(e,t,n){"use strict";var o,i,r,a,s,l,c,u,d,h,p,v,m,g,f,_;Object.defineProperty(t,"__esModule",{value:!0}),o=n(4),i=n(46),r=n(447),n(133),a=n(1),s=n(1896),l=n(483),c=n(1897),u=n(1903),d=n(1926),h=n(1904),p=n(2348),v=n(2349),m=n(2350),g=a.enabled("widget"),f={allIdeas:window.t("All ideas"),description:window.t("Published ideas and notes can be displayed right on the charts as dots and triangles on the bar when they were published. You can get a bird's eye view of different opinions over time and easily see who thought what and when."),descriptionWidget:window.t("Published ideas can be displayed right on the chart as dots on the bar when they were published. You can get a bird's eye view of different opinions over time and easily see who thought what and when."),followes:window.t("Ideas of the people I follow & my ideas"),ideas:window.t("Ideas"),myIdeas:window.t("My ideas only"),settings:window.t("Published ideas settings"),undoHintShow:window.t("Show Published Charts Timeline"),undoHintHide:window.t("Hide Published Charts Timeline"),undoHintChange:window.t("Change Ideas filter")},_=function(e){function t(t,n){var o=e.call(this,t,n)||this;return o._subscribedProperties={},o._handleChangeState=function(){var e,t,n=o.context.chartWidgetCollection,i=n.activeChartWidget.value(),r=i.model();if(!r)return void i.modelCreated().subscribe(null,o._handleChangeState,!0);e=r.publishedChartsTimelineSource().properties().visible,o.setState({isActive:e.value()}),o._propertyResubscriber(e,"visibility"),t=r.publishedChartsTimelineSource().properties().filter,o.setState({activeFilter:t.value()}),o._propertyResubscriber(t,"filter")},o._handleToggle=function(e){var t,n,i=o.context.chartWidgetCollection,r=i.activeChartWidget.value().model();r&&(t=r.publishedChartsTimelineSource().properties().visible,n=!t.value(),void 0!==e&&e!==n||r.setProperty(t,n,n?f.undoHintShow:f.undoHintHide))},o._handleClick=function(){o._handleToggle()},o._handleClickSetting=function(e){window.runOrSignIn(function(){var t=o.context.chartWidgetCollection,n=t.activeChartWidget.value().model(),i=n.publishedChartsTimelineSource().properties().filter;n.setProperty(i,e,f.undoHintChange),o._handleToggle(!0)},{
source:"Published charts timeline in header",sourceMeta:"Chart",feature:"publish"}),s.globalClosePopupMenu()},o.state={isActive:!1,activeFilter:l.FILTER_NONE},o}return o.__extends(t,e),t.prototype.componentDidMount=function(){this.context.chartWidgetCollection.activeChartWidget.subscribe(this._handleChangeState,{callWithLast:!0})},t.prototype.componentWillUnmount=function(){this.context.chartWidgetCollection.activeChartWidget.unsubscribe(this._handleChangeState)},t.prototype.render=function(){var e=this.props,t=e.isShownSettings,n=e.className,r=o.__rest(e,["isShownSettings","className"]),a=this.state,s=a.activeFilter,_=a.isActive;return i.createElement(h.ToolWidgetRowWrap,{className:n},i.createElement(u.ToolWidgetCollapsibleButton,o.__assign({},r,{icon:_?v:p,isActive:_,onClick:this._handleClick,text:f.ideas,title:g?f.descriptionWidget:f.description})),t&&i.createElement(d.ToolWidgetMenu,{className:m.menu,title:f.settings},i.createElement(c.PopupMenuItem,{isActive:s===l.FILTER_NONE,label:f.allIdeas,onClick:this._handleClickSetting,onClickArg:l.FILTER_NONE}),i.createElement(c.PopupMenuItem,{isActive:s===l.FILTER_FOLLOWING,label:f.followes,onClick:this._handleClickSetting,onClickArg:l.FILTER_FOLLOWING}),i.createElement(c.PopupMenuItem,{isActive:s===l.FILTER_PRIVATE,label:f.myIdeas,onClick:this._handleClickSetting,onClickArg:l.FILTER_PRIVATE})))},t.prototype._propertyResubscriber=function(e,t){e!==this._subscribedProperties[t]&&(this._subscribedProperties[t]&&this._subscribedProperties[t].unsubscribe(this,this._handleChangeState),e.subscribe(this,this._handleChangeState),this._subscribedProperties[t]=e)},t.contextTypes={chartWidgetCollection:r.object.isRequired},t}(i.PureComponent),t.ToolWidgetCharts=_},2345:function(e,t){e.exports={icon:"icon-16JOogW_-",dropped:"dropped-1WSGLaYJ-"}},2346:function(e,t){e.exports={button:"button-13wlLwhJ-",hovered:"hovered-FUo4RNOC-",arrow:"arrow-2pXEy7ej-",arrowWrap:"arrowWrap-r5l5nQXU-",isOpened:"isOpened-1939ai3F-"}},2347:function(e,t){e.exports={wrap:"wrap-18oKCBRc-"}},2348:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill="currentColor"><path d="M18 20.995c0 .552-.447 1.005-1 1.005h-7c-.547 0-1-.452-1-1.005l-.004-3.497a7.5 7.5 0 1 1 9.003.004v3.493zm-.787-4.159a6.5 6.5 0 1 0-7.43-.004l.212.168.005 4h7c-.002 0-.002-1.333 0-4l.213-.164z"/><path d="M9.5 17h8v1h-8zm0 2h8v1h-8z"/><path d="M15 23v-1h1v1c0 .558-.448 1-1 1h-3c-.555 0-1-.446-1-1v-1h1v1h3z"/></g></svg>'},2349:function(e,t){
e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill="currentColor"><path d="M9.5 17h8v1h-8zm0 2h8v1h-8z"/><path d="M15 23v-1h1v1c0 .558-.448 1-1 1h-3c-.555 0-1-.446-1-1v-1h1v1h3zm3-2.005c0 .552-.447 1.005-1 1.005h-7c-.547 0-1-.452-1-1.005l-.004-3.497a7.5 7.5 0 1 1 9.003.004v3.493zm-.787-4.159a6.5 6.5 0 1 0-7.43-.004l.212.168.005 4h7c-.002 0-.002-1.333 0-4l.213-.164zM4 11H2v1h2zm15.864 7.571l1.414 1.414.707-.707-1.414-1.414zM25 11h-2v1h2zm-4.429-5.864l1.414-1.414-.707-.707-1.414 1.414zM6.429 17.864l-1.414 1.414.707.707 1.414-1.414zm.707-13.435L5.722 3.015l-.707.707 1.414 1.414zM14 2V0h-1v2z"/></g></svg>'},2350:function(e,t){e.exports={menu:"menu-FkPLbCYf-"}},2351:function(e,t,n){"use strict";function o(){s.showGoToTradingViewReferralDialog({feature:"alerts"}).open()}function i(e){return a.createElement(l.ToolWidgetAlertView,r.__assign({},e,{onClick:o}))}var r,a,s,l;Object.defineProperty(t,"__esModule",{value:!0}),r=n(4),a=n(46),s=n(519),l=n(2081),t.ToolWidgetAlertReferral=i},2352:function(e,t,n){"use strict";function o(){l.showGoToTradingViewReferralDialog({feature:"saveload"}).open()}function i(e){return a.createElement(s.ToolWidgetSaveLoadView,r.__assign({},e,{isAuthenticated:!1,isProcessing:!1,wasChanges:!0,hideMenu:!0,onSaveChart:o}))}var r,a,s,l;Object.defineProperty(t,"__esModule",{value:!0}),r=n(4),a=n(46),s=n(2086),l=n(519),t.ToolWidgetSaveLoadReferral=i},2353:function(e,t,n){"use strict";var o,i,r,a,s,l,c,u,d,h,p,v,m,g;Object.defineProperty(t,"__esModule",{value:!0}),o=n(4),i=n(46),r=n(695),a=n(17),s=n(405),l=n(2354),c="M21.5 21.5h-14a5 5 0 1 1 .42-9.983 7.5 7.5 0 0 1 14.57 2.106 4.002 4.002 0 0 1-.99 7.877z",u=62.332908630371094,d=.8*u,h=.21*u,p=.79*u,v={strokeDashOffset:p,strokeDash:d,strokeGap:h,strokeDashCheck:0},m={strokeDashOffset:h+d,strokeGap:0,strokeDash:d+h,strokeDashCheck:200},g=function(e){function t(t){var n=e.call(this,t)||this;return n.state=v,n}return o.__extends(t,e),t.prototype.componentDidMount=function(){"saved"===this.props.state?this.setState(m):this._goToNextState(this.props.state)},t.prototype.componentWillReceiveProps=function(e){this.props.state!==e.state&&this._goToNextState(e.state)},t.prototype.render=function(){var e,t=this.state,n=t.strokeDashOffset,o=t.strokeDash,r=t.strokeGap,a=t.strokeDashCheck,u=this.props,d=u.className,h=u.size,p=u.onClick,v=u.state,m=u.isHovered,g=void 0!==m&&m,f=s(l.container,d,g&&l.hovered,(e={},e[l.unsaved]="unsaved"===v,e[l.saving]="saving"===v,e[l.saved]="saved"===v,e));return i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:f,version:"1.1",width:h,height:h,viewBox:"0 0 28 28",onClick:p},i.createElement("g",{fill:"none"},i.createElement("path",{className:l.dottedCloud,stroke:"currentColor",strokeDasharray:"3.5,2.5",d:c}),i.createElement("path",{className:l.spinningCloud,stroke:"currentColor",strokeDasharray:o+" "+r,strokeDashoffset:n,d:c}),i.createElement("path",{className:l.arrowGap,d:"M11 20h6v5h-6z"}),i.createElement("g",{className:l.arrow,stroke:"currentColor"
},i.createElement("path",{strokeLinecap:"square",d:"M14.5 14.5v10"}),i.createElement("path",{d:"M11 17l3.5-3.5L18 17"})),i.createElement("g",{className:l.check,stroke:"currentColor"},i.createElement("path",{strokeDasharray:a+"% "+(200-a)+"%",d:"M10 15l2.5 2.5L18 12"}))))},t.prototype._goToNextState=function(e){var t=this;switch(e){case"unsaved":this.setState(v);break;case"saving":"unsaved"!==this.props.state&&this.setState(v),this._currentAnimation=Promise.resolve(this._currentAnimation).then(function(){return t._createSpinAnimationWhile(function(){return"saving"===t.props.state})});break;case"saved":this._currentAnimation=Promise.resolve(this._currentAnimation).then(this._createFillGapAnimation.bind(this)).then(this._createCheckAnimation.bind(this))}},t.prototype._createSpinAnimationWhile=function(e){var t=this;return this._createSpinAnimation().then(function(){return e()?t._createSpinAnimationWhile(e):Promise.resolve()})},t.prototype._createSpinAnimation=function(){var e=this;return new Promise(function(t){r.doAnimate({onStep:function(t,n){e.setState({strokeDashOffset:n})},onComplete:function(){return t()},from:p,to:p+u,easing:a.easingFunc.linear,duration:1e3})})},t.prototype._createCheckAnimation=function(){var e=this;return new Promise(function(t){r.doAnimate({onStep:function(t,n){e.setState({strokeDashCheck:Math.round(n)})},onComplete:function(){return t()},from:0,to:200,easing:a.easingFunc.linear,duration:1e3})})},t.prototype._createFillGapAnimation=function(){var e=this;return new Promise(function(t){r.doAnimate({onStep:function(t,n){e.setState({strokeDashOffset:h+d-n,strokeGap:n,strokeDash:d+h-n})},onComplete:function(){return t()},from:h,to:0,easing:a.easingFunc.linear,duration:200})})},t}(i.PureComponent),t.CloudSpinner=g},2354:function(e,t){e.exports={dottedCloud:"dottedCloud-1Vw3lVny-",check:"check-3V48_rMp-",spinningCloud:"spinningCloud-2fkbB-rw-",arrow:"arrow-1zkKEROH-",arrowGap:"arrowGap-gjAe6jEn-",container:"container-riYIb01a-",unsaved:"unsaved-2Kg_w3Vw-",hovered:"hovered-18DzoW0E-",saving:"saving-31YVVfHU-",saved:"saved-2kLd4nmd-"}},2355:function(e,t){e.exports={menu:"menu-92vrwS4x-",opened:"opened-GQFVkrpV-"}},2356:function(e,t){e.exports={button:"button-1EU5-JL7-",isDisabled:"isDisabled-1RjJSnJ7-",text:"text-1HWeUAzA-"}},2357:function(e,t,n){"use strict";var o,i,r,a,s,l,c,u;Object.defineProperty(t,"__esModule",{value:!0}),o=n(4),n(2),i=n(46),r=n(447),a=n(23),s=n(1903),l=n(2358),c={text:window.t("Replay"),hint:window.t("Bar Replay")},u=function(e){function t(t){var n=e.call(this,t)||this;return n._replayUIController=null,n._handleClick=function(){if(!n._replayUIController)return a.trackEvent("Replay","Open replay"),void n._loadUIController();n._replayUIController.isReplayModeEnabled()?(n._replayUIController.requestCloseReplay(),a.trackEvent("Replay","Close replay from header button")):(n._replayUIController.enableReplayMode(),a.trackEvent("Replay","Open replay"))},n.state={isActive:!1},n}return o.__extends(t,e),t.prototype.componentWillUnmount=function(){
null!==this._replayUIController&&(this._replayUIController.onPropertiesChanged().unsubscribeAll(this),this._replayUIController.destroy(),this._replayUIController=null)},t.prototype.render=function(){var e=this.state.isActive;return i.createElement(s.ToolWidgetCollapsibleButton,o.__assign({},this.props,{icon:l,text:c.text,title:c.hint,isActive:e,onClick:this._handleClick}))},t.prototype._loadUIController=function(){var e=this,t=this.context,o=t.chartWidgetCollection,i=t.chartApiInstance;n.e(83).then(function(t){if(null===e._replayUIController){var r=n(2110).ReplayUIController;e._replayUIController=new r(o,i),e._replayUIController.enableReplayMode(),e._replayUIController.onPropertiesChanged().subscribe(e,e._updateButtonState),e._updateButtonState()}}.bind(null,n)).catch(n.oe)},t.prototype._updateButtonState=function(){var e=this._replayUIController&&this._replayUIController.isReplayModeEnabled();this.setState({isActive:!!e})},t.contextTypes={chartWidgetCollection:r.object.isRequired,chartApiInstance:r.object.isRequired},t}(i.PureComponent),t.ToolWidgetReplay=u},2358:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill="none" stroke="currentColor"><path stroke-linecap="square" d="M4.5 15.5a9 9 0 1 0 9-9h-7"/><path d="M11.5 12v7l4.5-3.5zM9 10L5.5 6.5 9 3"/></g></svg>'},2363:function(e,t,n){"use strict";function o(){return{Bars:i.enabled("header_chart_type")?r.ToolWidgetChartStyles:void 0,Compare:i.enabled("header_compare")?a.ToolWidgetCompare:void 0,Custom:f.ToolWidgetCustom,Fullscreen:i.enabled("header_fullscreen_button")?s.ToolWidgetFullscreen:void 0,Indicators:i.enabled("header_indicators")?l.ToolWidgetIndicators:void 0,Intervals:i.enabled("header_resolutions")?c.ToolWidgetIntervals:void 0,OpenPopup:u.ToolWidgetOpenPopup,Properties:i.enabled("header_settings")&&i.enabled("show_chart_property_page")?d.ToolWidgetProperties:void 0,SaveLoad:i.enabled("header_saveload")?h.ToolWidgetSaveLoad:void 0,Screenshot:i.enabled("header_screenshot")?p.ToolWidgetScreenshot:void 0,SymbolSearch:i.enabled("header_symbol_search")?v.ToolWidgetSymbolSearch:void 0,Templates:i.enabled("study_templates")?m.ToolWidgetTemplates:void 0,UndoRedo:i.enabled("header_undo_redo")?g.ToolWidgetUndoRedo:void 0,Layout:i.enabled("header_layouttoggle")?_.ToolWidgetLayout:void 0}}var i,r,a,s,l,c,u,d,h,p,v,m,g,f,_;Object.defineProperty(t,"__esModule",{value:!0}),i=n(1),r=n(2364),a=n(2367),s=n(2369),l=n(2371),c=n(2373),u=n(2382),d=n(2385),h=n(2386),p=n(2387),v=n(2390),m=n(2392),g=n(2401),f=n(2405),_=n(2406),t.getRestrictedToolSet=o},2364:function(e,t,n){"use strict";var o,i,r,a,s,l,c,u,d,h,p,v,m,g,f,_,w;Object.defineProperty(t,"__esModule",{value:!0}),o=n(4),i=n(46),r=n(447),a=n(1),s=n(123),l=n(673),c=n(1956),u=n(1162),d=n(1897),h=n(1926),p=n(1904),v=n(2089),m=n(2366),w={},w[s.STYLE_BARS]=window.t("Bars"),w[s.STYLE_CANDLES]=window.t("Candles"),w[s.STYLE_HOLLOW_CANDLES]=window.t("Hollow Candles"),w[s.STYLE_HEIKEN_ASHI]=window.t("Heikin Ashi"),w[s.STYLE_LINE]=window.t("Line"),
w[s.STYLE_AREA]=window.t("Area"),w[s.STYLE_BASELINE]=window.t("Baseline"),w[s.STYLE_RENKO]=window.t("Renko"),w[s.STYLE_PB]=window.t("Line Break"),w[s.STYLE_KAGI]=window.t("Kagi"),w[s.STYLE_PNF]=window.t("Point & Figure"),g=w,f={barsStyle:window.t("Bar's Style"),labels:g},_=function(e){function t(t,n){var o,i,r,l,c=e.call(this,t,n)||this;return c._handleChangeStyle=function(e){var t=c.state,n=t.favorites,o=t.lastSelectedNotFavorite,i=t.activeStyle;c.setState({activeStyle:e,lastSelectedNotFavorite:n.includes(i)?o:i})},c._handleSelectStyle=function(e){var t=c.context.chartWidgetCollection;e!==t.activeChartStyle.value()&&t.trySetChartStyleToActiveWidget(e)},c._handleClickFavorite=function(e){c._isStyleFavorited(e)?c._handleRemoveFavorite(e):c._handleAddFavorite(e)},o=n.chartWidgetCollection,i=n.favoriteChartStylesService,r=o.activeChartStyle.value(),l=i.get(),c.state={activeStyle:r,favorites:l,styles:[s.STYLE_BARS,s.STYLE_CANDLES,s.STYLE_HOLLOW_CANDLES,s.STYLE_HEIKEN_ASHI,s.STYLE_LINE,s.STYLE_AREA,s.STYLE_BASELINE].concat(a.enabled("japanese_chart_styles")?[s.STYLE_RENKO,s.STYLE_PB,s.STYLE_KAGI,s.STYLE_PNF]:[])},c}return o.__extends(t,e),t.prototype.componentDidMount=function(){var e=this.context,t=e.chartWidgetCollection,n=e.favoriteChartStylesService;t.activeChartStyle.subscribe(this._handleChangeStyle),n.getOnChange().subscribe(this,this._handleChangeSettings)},t.prototype.componentWillUnmount=function(){var e=this.context,t=e.chartWidgetCollection,n=e.favoriteChartStylesService;t.activeChartStyle.unsubscribe(this._handleChangeStyle),n.getOnChange().unsubscribe(this,this._handleChangeSettings)},t.prototype.render=function(){var e,t,n=this,o=this.props,r=o.isShownQuicks,a=o.displayMode,s=void 0===a?"full":a,c=o.id,d=this.state,g=d.activeStyle,_=d.favorites,w=d.styles,y=d.lastSelectedNotFavorite,C="small"!==s&&r&&0!==_.length,b=_.slice();return b.includes(g)?void 0!==y&&b.push(y):b.push(g),e=C&&b.length>1,t=w.map(function(e){return n._renderPopupMenuItem(e,e===g)}),i.createElement(p.ToolWidgetRowWrap,{id:c},e&&b.map(function(e,t){return i.createElement(v.ToolWidgetQuickButton,{icon:l[e],isActive:C&&g===e,key:t,hint:f.labels[e],isFirst:0===t,isLast:t===b.length-1,onClick:C?n._handleSelectStyle:void 0,onClickArg:e})}),i.createElement(h.ToolWidgetMenu,{arrow:!!e,content:e?void 0:i.createElement(p.ToolWidgetRowWrap,null,i.createElement(u.Icon,{icon:l[g]})),title:e?f.barsStyle:f.labels[g],className:m.menu},t))},t.prototype._renderPopupMenuItem=function(e,t){var n=this.props.isFavoritingAllowed,o=this._isStyleFavorited(e);return i.createElement(d.PopupMenuItem,{key:e,icon:l[e],isActive:t,label:f.labels[e]||"",onClick:this._handleSelectStyle,onClickArg:e,showToolboxOnHover:!o,toolbox:n&&i.createElement(c.FavoriteButton,{isFilled:o,onClick:this._handleClickFavorite,onClickArg:e})})},t.prototype._handleChangeSettings=function(e){this.setState({lastSelectedNotFavorite:void 0,favorites:e})},t.prototype._isStyleFavorited=function(e){return-1!==this.state.favorites.indexOf(e)},t.prototype._handleAddFavorite=function(e){
var t=this.state.favorites;this.context.favoriteChartStylesService.set(t.concat([e]))},t.prototype._handleRemoveFavorite=function(e){var t=this.state.favorites;this.context.favoriteChartStylesService.set(t.filter(function(t){return t!==e}))},t.contextTypes={chartWidgetCollection:r.object.isRequired,favoriteChartStylesService:r.object.isRequired},t}(i.PureComponent),t.ToolWidgetChartStyles=_},2365:function(e,t){e.exports={button:"button-1IIz2ju4-",first:"first-bfrNico9-",last:"last-3h-LFsOr-"}},2366:function(e,t){e.exports={menu:"menu-16FRUKka-"}},2367:function(e,t,n){"use strict";var o,i,r,a,s,l,c,u;Object.defineProperty(t,"__esModule",{value:!0}),o=n(4),n(2),i=n(46),r=n(447),a=n(943),s=n(1903),l=n(2368),c={compare:window.t("Compare"),compareOrAddSymbol:window.t("Compare or Add Symbol")},u=function(e){function t(t,n){var o=e.call(this,t,n)||this;return o._handleClick=function(){var e=o.context.chartWidgetCollection,t=new a.AddCompareDialog(e),n=t.show();o.setState({isActive:!0}),n.on("afterOpen",function(){return o.setState({isActive:!0})}),n.on("beforeClose",function(){return o.setState({isActive:!1})})},o.state={isActive:!1},o}return o.__extends(t,e),t.prototype.render=function(){var e=this.state.isActive;return i.createElement(s.ToolWidgetCollapsibleButton,o.__assign({},this.props,{icon:l,isOpened:e,onClick:this._handleClick,text:c.compare,title:c.compareOrAddSymbol}))},t.contextTypes={chartWidgetCollection:r.object.isRequired},t}(i.PureComponent),t.ToolWidgetCompare=u},2368:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill="none" stroke="currentColor" transform="translate(2 4)"><path d="M16.5 14.5c0 1.657 0 4 3 4s3-2.343 3-4"/><path stroke-linejoin="round" d="M19.5 9.5l-3 5h6z"/><path d="M.5 14.5c0 1.657 0 4 3 4s3-2.343 3-4"/><path stroke-linejoin="round" d="M3.5 9.5l-3 5h6z"/><path d="M3.5 9.5h6m10 0h-6"/><circle cx="11.5" cy="9.5" r="2"/><path d="M11.5 4.5v3"/><rect width="2" height="4" rx="1" x="10.5" y=".5"/></g></svg>'},2369:function(e,t,n){"use strict";var o,i,r,a,s,l,c,u;Object.defineProperty(t,"__esModule",{value:!0}),o=n(4),i=n(46),r=n(447),a=n(405),s=n(1955),l=n(2370),c={hint:window.t("Fullscreen mode")},u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._handleClick=function(){t.context.chartWidgetCollection.startFullscreen()},t}return o.__extends(t,e),t.prototype.render=function(){var e=this.props.className;return i.createElement(s.ToolWidgetIconButton,{icon:l,onClick:this._handleClick,title:c.hint,className:a(e)})},t.contextTypes={chartWidgetCollection:r.object.isRequired},t}(i.PureComponent),t.ToolWidgetFullscreen=u},2370:function(e,t){
e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill="currentColor"><path d="M21 7v4h1V6h-5v1z"/><path d="M16.854 11.854l5-5-.708-.708-5 5zM7 7v4H6V6h5v1z"/><path d="M11.146 11.854l-5-5 .708-.708 5 5zM21 21v-4h1v5h-5v-1z"/><path d="M16.854 16.146l5 5-.708.708-5-5z"/><g><path d="M7 21v-4H6v5h5v-1z"/><path d="M11.146 16.146l-5 5 .708.708 5-5z"/></g></g></svg>'},2371:function(e,t,n){"use strict";var o,i,r,a,s,l,c;Object.defineProperty(t,"__esModule",{value:!0}),o=n(4),n(2),i=n(46),r=n(1),a=n(1903),s=n(2372),l={text:window.t("Indicators"),hint:r.enabled("study_dialog_fundamentals_economy_addons")?window.t("Indicators, Strategies, Fundamentals and Economy"):window.t("Indicators")},c=function(e){function t(t){var n=e.call(this,t)||this;return n._handleClick=function(){var e=n.props.studyMarket;n.setState({isActive:!0},function(){e.isVisible()?e.hide():e.show()})},n.state={isActive:!1},n}return o.__extends(t,e),t.prototype.componentDidMount=function(){this.props.studyMarket.visibilityChanged.subscribe(this,this._setActiveState)},t.prototype.componentWillUnmount=function(){this.props.studyMarket.visibilityChanged.unsubscribe(this,this._setActiveState)},t.prototype.render=function(){var e=this.state.isActive,t=this.props,n=t.className,o=t.displayMode,r=t.id;return i.createElement(a.ToolWidgetCollapsibleButton,{id:r,displayMode:o,className:n,icon:s,isOpened:e,onClick:this._handleClick,text:l.text,title:l.hint})},t.prototype._setActiveState=function(e){this.setState({isActive:e})},t}(i.PureComponent),t.ToolWidgetIndicators=c},2372:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path d="M5.5 18.207l4.65-4.65a1.906 1.906 0 0 1 2.7 0l2.593 2.593a2.906 2.906 0 0 0 4.114 0l4.65-4.65-.707-.707-4.65 4.65a1.906 1.906 0 0 1-2.7 0l-2.593-2.593a2.906 2.906 0 0 0-4.114 0l-4.65 4.65.707.707z"/></svg>'},2373:function(e,t,n){"use strict";var o,i,r,a,s,l,c,u,d,h,p,v,m,g,f,_,w,y,C,b,S;Object.defineProperty(t,"__esModule",{value:!0}),o=n(4),n(2),i=n(46),r=n(447),a=n(405),s=n(1),l=n(131),c=n(523),u=n(189),d=n(2089),h=n(1926),p=n(1904),v=n(2374),m=n(1916),g=n(2376),f=n(2378),_=n(9),w=n(2381),y={openDialog:window.t("Open Interval Dialog"),timeInterval:window.t("Time Interval")},C=function(e){var t,n={name:c.groupTranslations[u.Interval.SECONDS],items:[]},o={name:c.groupTranslations[u.Interval.MINUTES],items:[]},i={name:c.groupTranslations[u.Interval.HOURS],items:[]},r={name:c.groupTranslations[u.Interval.DAYS],items:[],mayOmitSeparator:!0},a={name:c.groupTranslations[u.Interval.WEEKS],items:[],mayOmitSeparator:!0},s={name:c.groupTranslations[u.Interval.MONTHS],items:[],mayOmitSeparator:!0};return e.forEach(function(e){var t=new u.Interval(e)
;t.kind()===u.Interval.HOURS?i.items.push(e):t.kind()===u.Interval.MINUTES?c.isHour(+t.multiplier())?i.items.push(e):o.items.push(e):t.kind()===u.Interval.SECONDS?n.items.push(e):t.kind()===u.Interval.DAYS?r.items.push(e):t.kind()===u.Interval.WEEKS?a.items.push(e):t.kind()===u.Interval.MONTHS&&s.items.push(e)}),t=[n,o,i,r,a,s],t.filter(function(e){return 0!==e.items.length})},b=function(e){var t=!1;return e.filter(function(e,n,o){var i=!0;return e.type===m.PopupMenuSeparator&&(0!==n&&n!==o.length-1||(i=!1),t&&(i=!1)),t=e.type===m.PopupMenuSeparator,i})},S=function(e){function t(t,n){var o,r,a,u,d,h,p=e.call(this,t,n)||this;return p._renderIntervalGroup=function(e){var t=e.items.map(function(e){return p._renderPopupMenuItem(e)});return(!e.mayOmitSeparator||e.items.length>1)&&(t.unshift(i.createElement(m.PopupMenuSeparator,{key:"begin-"+e.name})),t.push(i.createElement(m.PopupMenuSeparator,{key:"end-"+e.name}))),t},p._handleChangeInterval=function(e){var t=p.state,n=t.activeInterval,o=t.lastNotQuicked,i=p._getQuicks();p.setState({activeInterval:c.normalizeIntervalString(e),lastNotQuicked:i.includes(n)?o:n})},p._handleCloseMenu=function(){p.setState({isOpenedFormMenu:!1})},p._handleOpenMenu=function(){p.setState({isOpenedFormMenu:!0})},p._bindedForceUpdate=function(){p.forceUpdate()},p._handleSelectInterval=function(e){e!==l.interval.value()&&l.interval.setValue(e)},p._handleClickFavorite=function(e){e=_.ensureDefined(e),p._isIntervalFavorite(e)?p._handleRemoveFavorite(e):p._handleAddFavorite(e)},p._handleAddFavorite=function(e){var t=p.state.favorites;p.context.favoriteIntervalsService.set(t.concat([e]))},p._handleRemoveFavorite=function(e){var t=p.state.favorites;p.context.favoriteIntervalsService.set(t.filter(function(t){return t!==e}))},p._handleAddInterval=function(e){var t=p.state.customs,n=p.context.customIntervalsService,o=c.normalizeIntervalString(e);void 0!==n&&(p._isIntervalDefault(o)||t.includes(o)||n.set(c.sortIntervals(t.concat([o])))),p.setState({lastAddedInterval:o})},p._handleRemoveInterval=function(e){var t,n;window.user.is_pro&&(t=p.context.customIntervalsService,n=p.state.customs,void 0!==t&&(t.set(n.filter(function(t){return t!==e})),p._handleRemoveFavorite(e)))},o=n.chartApiInstance,r=n.favoriteIntervalsService,a=n.customIntervalsService,p._customIntervals=s.enabled("custom_resolutions_box"),u=c.normalizeIntervalString(l.interval.value()||"1"),d=r.get(),h=void 0!==a?a.get():[],p._defaultsIntervals=Object.keys(o.defaultResolutions()).map(c.normalizeIntervalString),p.state={isOpenedFormMenu:!1,activeInterval:u,favorites:d,customs:h},p}return o.__extends(t,e),t.prototype.componentDidMount=function(){var e=this.context,t=e.favoriteIntervalsService,n=e.customIntervalsService;t.getOnChange().subscribe(this,this._handleChangeFavorites),void 0!==n&&n.getOnChange().subscribe(this,this._handleChangeCustoms),l.interval.subscribe(this._handleChangeInterval),l.intraday.subscribe(this._bindedForceUpdate),l.supportedResolutions.subscribe(this._bindedForceUpdate)},t.prototype.componentWillUnmount=function(){
var e=this.context,t=e.favoriteIntervalsService,n=e.customIntervalsService;t.getOnChange().unsubscribe(this,this._handleChangeFavorites),n&&n.getOnChange().unsubscribe(this,this._handleChangeCustoms),l.interval.unsubscribe(this._handleChangeInterval),l.intraday.unsubscribe(this._bindedForceUpdate),l.supportedResolutions.unsubscribe(this._bindedForceUpdate)},t.prototype.componentDidUpdate=function(e,t){var n=this;this.state.lastAddedInterval&&setTimeout(function(){return n.setState({lastAddedInterval:void 0})},400)},t.prototype.render=function(){var e,t,n,o,r,s,l=this,u=this.props,m=u.isShownQuicks,g=u.id,f=this.state,_=f.activeInterval,C=f.customs,b=f.isOpenedFormMenu,S=f.lastNotQuicked,k=this._defaultsIntervals,x=this._getQuicks(),M=c.sortIntervals(x.slice());return M.includes(_)?void 0!==S&&M.push(S):M.push(_),e=!(!m||0===x.length)||void 0,t=e&&M.length>1,n={},o=c.sortIntervals(k.concat(C).filter(function(e,t,n){return n.indexOf(e)===t})),o.concat(_).filter(function(e){return c.isIntervalAvailable(e)}).forEach(function(e){return n[e]=!0}),r=this._createMenuItems(o).concat(this._createIntervalForm()),s=c.getTranslatedModel(_),i.createElement(p.ToolWidgetRowWrap,{id:g},t&&M.map(function(e,t){var o,r=c.getTranslatedModel(e);return i.createElement(d.ToolWidgetQuickButton,{key:t,className:a(w.button,(o={},o[w.first]=0===t,o[w.last]=t===M.length-1,o)),text:i.createElement(v.IntervalLabel,{value:r.mayOmitMultiplier?void 0:r.multiplier,metric:r.shortKind}),hint:r.hint,isActive:_===e,isDisabled:!n[e],onClick:l._handleSelectInterval,onClickArg:e})}),i.createElement(h.ToolWidgetMenu,{arrow:!!t,closeOnClickOutside:!b,content:t?void 0:i.createElement(p.ToolWidgetRowWrap,{className:w.menuContent},i.createElement(v.IntervalLabel,{value:s.mayOmitMultiplier?void 0:s.multiplier,metric:s.shortKind})),title:t?y.timeInterval:s.hint,className:w.menu},i.createElement("div",{className:w.dropdown},r)))},t.prototype._createMenuItems=function(e){var t,n=C(e).map(this._renderIntervalGroup),o=(t=[]).concat.apply(t,n);return b(o)},t.prototype._createIntervalForm=function(){return this._customIntervals?[i.createElement(m.PopupMenuSeparator,{key:"custom-interval-separator"}),i.createElement(g.ToolWidgetIntervalsAddForm,{key:"add-form",onAdd:this._handleAddInterval,onCloseMenu:this._handleCloseMenu,onOpenMenu:this._handleOpenMenu})]:[]},t.prototype._handleChangeFavorites=function(e){this.setState({lastNotQuicked:void 0,favorites:e})},t.prototype._handleChangeCustoms=function(e){this.setState({customs:e})},t.prototype._renderPopupMenuItem=function(e){var t=this.props.isFavoritingAllowed,n=this.state,o=n.activeInterval,r=n.lastAddedInterval,a=e===o,s=c.isIntervalAvailable(e),l=this._isIntervalFavorite(e),u=this._isIntervalDefault(e),d=c.getTranslatedModel(e);return i.createElement(f.IntervalMenuItem,{key:e,interval:e,hint:d.hint,isSignaling:r===e,isFavoritingAllowed:t,isDisabled:!s,isFavorite:l,isRemovable:!u,isActive:a,onClick:this._handleSelectInterval,onClickRemove:this._handleRemoveInterval,onClickFavorite:this._handleClickFavorite})},
t.prototype._isIntervalDefault=function(e){return this._defaultsIntervals.includes(e)},t.prototype._isIntervalFavorite=function(e){return this.state.favorites.includes(e)},t.prototype._getQuicks=function(e){var t,n=this;return this.props.isShownQuicks&&"small"!==this.props.displayMode?(t=void 0===e?this.state.favorites:e,window.user.is_pro?t:t.filter(function(e){return n._isIntervalDefault(e)})):[]},t.contextTypes={chartApiInstance:r.object.isRequired,favoriteIntervalsService:r.object.isRequired,customIntervalsService:r.object},t}(i.PureComponent),t.ToolWidgetIntervals=S},2374:function(e,t,n){"use strict";function o(e){var t,n=e.metric.charAt(0),o=n.toUpperCase()===n;return i.createElement("div",{className:r(a.value,(t={},t[a.selected]=e.isSelected,t))},e.value,i.createElement("span",{className:r(a.metric,o&&a.capitalized)},e.metric))}var i,r,a;Object.defineProperty(t,"__esModule",{value:!0}),i=n(46),r=n(405),a=n(2375),t.IntervalLabel=o},2375:function(e,t){e.exports={value:"value-DWZXOdoK-",selected:"selected-2V87KUXm-",metric:"metric-uxyW5qk0-",capitalized:"capitalized-OlFzHeUi-"}},2376:function(e,t,n){"use strict";function o(e,t){return Math.max(1,Math.min(e,v[t]))}var i,r,a,s,l,c,u,d,h,p,v,m;Object.defineProperty(t,"__esModule",{value:!0}),i=n(4),n(2),r=n(46),a=n(405),s=n(9),l=n(1896),c=n(1897),u=n(2085),d=n(2377),h={add:window.t("Add")},p=[{name:"1",label:window.t("minutes",{context:"interval"})},{name:"60",label:window.t("hours",{context:"interval"})},{name:"D",label:window.t("days",{context:"interval"})},{name:"W",label:window.t("weeks",{context:"interval"})},{name:"M",label:window.t("months",{context:"interval"})}],v={1:1440,60:24,D:364,W:52,M:12},m=function(e){function t(t){var n=e.call(this,t)||this;return n._timeMenu=null,n._setMenuRef=function(e){n._timeMenu=e},n._handleChangeInput=function(e){var t=e.currentTarget.value;/^[0-9]*$/.test(t)&&n.setState({inputValue:t})},n._handleSelectTime=function(e){n.setState({selectedTime:e}),n._closeMenu()},n._handleClickAdd=function(){var e=n.state,t=e.inputValue,i=e.selectedTime,r=parseInt(t);r===o(r,i)&&n.props.onAdd(isNaN(parseInt(i))?r+""+i:r*+i+"")},n._toggleMenu=function(){n.state.isOpenedMenu?n._closeMenu():n._openMenu()},n._closeMenu=function(){n.props.onCloseMenu(),n.setState({isOpenedMenu:!1})},n._openMenu=function(){n.props.onOpenMenu(),n.setState({isOpenedMenu:!0})},n._getMenuPosition=function(){var e=s.ensureNotNull(n._timeMenu),t=e.getBoundingClientRect();return{overrideWidth:t.width,x:t.left,y:t.bottom+1}},n.state={inputValue:"1",isOpenedMenu:!1,selectedTime:p[0].name},n}return i.__extends(t,e),t.prototype.render=function(){var e,t=this,n=this.state,o=n.inputValue,i=n.isOpenedMenu,s=n.menuWidth,v=n.selectedTime;return r.createElement("div",{className:a(d.form,(e={},e[d.interacting]=i,e))},r.createElement("input",{className:d.input,maxLength:4,onChange:this._handleChangeInput,value:o}),r.createElement("div",{className:d.menu,onClick:this._toggleMenu,ref:this._setMenuRef},p.find(function(e){return e.name===v}).label,r.createElement(u.ToolWidgetCaret,{
dropped:i})),r.createElement("div",{className:d.add,onClick:this._handleClickAdd},h.add),r.createElement(l.PopupMenu,{directionHorz:l.DirectionHorz.None,doNotCloseOn:this,isOpened:i,minWidth:s,onClose:this._closeMenu,position:this._getMenuPosition},p.map(function(e){return r.createElement(c.PopupMenuItem,{dontClosePopup:!0,key:e.name,label:e.label,onClick:t._handleSelectTime,onClickArg:e.name})})))},t}(r.PureComponent),t.ToolWidgetIntervalsAddForm=m},2377:function(e,t){e.exports={form:"form-2itceCqS-",interacting:"interacting-3joY26dg-",input:"input-z46tLQgj-",menu:"menu-35lWsSKr-",add:"add-1NrfSAvb-",hovered:"hovered-1nwOcWv8-",wrap:"wrap-1oB2WI2R-"}},2378:function(e,t,n){"use strict";var o,i,r,a,s,l;Object.defineProperty(t,"__esModule",{value:!0}),o=n(4),n(92),i=n(46),r=n(1897),a=n(2090),s=n(1956),l=function(e){function t(t){var n=e.call(this,t)||this;return n._handleMouseEnter=function(){n.setState({isHovered:!0})},n._handleMouseLeave=function(){n.setState({isHovered:!1})},n.state={isHovered:!1},n}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.interval,n=e.hint,o=e.isActive,a=e.isDisabled,s=e.isFavorite,l=e.isSignaling,c=e.onClick;return i.createElement("div",{onMouseEnter:this._handleMouseEnter,onMouseLeave:this._handleMouseLeave},i.createElement(r.PopupMenuItem,{isActive:o,isDisabled:a,isHovered:l,onClick:c,onClickArg:t,toolbox:this._toolbox(),showToolboxOnHover:!s,label:n}))},t.prototype._toolbox=function(){var e=this.props,t=e.interval,n=e.isDisabled,o=e.isFavorite,r=e.isRemovable,l=e.isFavoritingAllowed,c=e.onClickFavorite,u=e.onClickRemove,d=this.state.isHovered,h=i.createElement(a.RemoveButton,{key:"remove",hidden:!Modernizr.touch&&!d,onClick:u,onClickArg:t}),p=i.createElement(s.FavoriteButton,{key:"favorite",isFilled:o,onClick:c,onClickArg:t});return[r&&h,!n&&l&&p]},t}(i.PureComponent),t.IntervalMenuItem=l},2379:function(e,t){e.exports={button:"button-1scLo53s-",hidden:"hidden-2GRQzIQ1-"}},2380:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11 11" width="11" height="11"><path fill="none" stroke="currentColor" d="M1 1l9 9m0-9l-9 9"/></svg>'},2381:function(e,t){e.exports={interval:"interval-1GDsfL5i-",showGroup:"showGroup-1N6m7h-N-",button:"button-1XkSWU32-",first:"first-2UbSFGzF-",last:"last-1rdUnwE6-",menu:"menu-1fA401bY-",dropdown:"dropdown-1zOBoqnG-",menuContent:"menuContent-1vyIDg3J-"}},2382:function(e,t,n){"use strict";var o,i,r,a,s,l,c,u,d;Object.defineProperty(t,"__esModule",{value:!0}),o=n(4),n(2),i=n(46),r=n(447),a=n(405),s=n(1955),l=n(2383),c=n(2384),u={hint:window.t("Open chart in popup")},d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._handleClick=function(){var e=t.context,n=e.chartWidgetCollection,o=e.windowMessageService,i=e.isFundamental,r=n.activeChartWidget.value();r.withModel(null,function(){o.post(parent,"openChartInPopup",{symbol:r.model().mainSeries().actualSymbol(),interval:r.model().mainSeries().interval(),fundamental:i})})},t}return o.__extends(t,e),t.prototype.render=function(){
var e=this.props.className;return i.createElement(s.ToolWidgetIconButton,{className:a(e,l.button),icon:c,onClick:this._handleClick,title:u.hint})},t.contextTypes={isFundamental:r.bool,chartWidgetCollection:r.object.isRequired,windowMessageService:r.object.isRequired},t}(i.PureComponent),t.ToolWidgetOpenPopup=d},2383:function(e,t){e.exports={button:"button-3wAyKO3i-"}},2384:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 21 21" width="21" height="21"><g fill="none" stroke="currentColor"><path d="M18.5 11v5.5a2 2 0 0 1-2 2h-13a2 2 0 0 1-2-2v-13a2 2 0 0 1 2-2H9"/><path stroke-linecap="square" d="M18 2l-8.5 8.5m4-9h5v5"/></g></svg>'},2385:function(e,t,n){"use strict";var o,i,r,a,s,l,c;Object.defineProperty(t,"__esModule",{value:!0}),o=n(4),i=n(46),r=n(447),a=n(1955),s=n(1965),l={hint:window.t("Chart Properties")},c=function(e){function t(t){var n=e.call(this,t)||this;return n._handleClick=function(){var e=n.context.chartWidgetCollection;n.setState({isActive:!0}),setTimeout(function(){return e.activeChartWidget.value().showChartProperties().then(n._resolveDialogState)},0)},n._resolveDialogState=function(e){null!==e?(n.setState({isActive:!0}),e.on("destroy",function(){return n.setState({isActive:!1})})):n.setState({isActive:!1})},n.state={isActive:!1},n}return o.__extends(t,e),t.prototype.render=function(){var e=this.state.isActive;return i.createElement(a.ToolWidgetIconButton,o.__assign({},this.props,{icon:s,title:l.hint,onClick:this._handleClick,isOpened:e}))},t.contextTypes={chartWidgetCollection:r.object.isRequired},t}(i.PureComponent),t.ToolWidgetProperties=c},2386:function(e,t,n){"use strict";function o(e,t){s.enabled("saveload_requires_authentication")?window.runOrSignIn(e,t):e()}var i,r,a,s,l,c,u,d;Object.defineProperty(t,"__esModule",{value:!0}),i=n(4),n(14),r=n(46),a=n(447),s=n(1),l=n(168),c=n(2055),u=n(2086),d=function(e){function t(t,n){var i,r,a=e.call(this,t,n)||this;return a._syncState=function(e){a.setState(e)},a._onChangeHasChanges=function(e){a.setState({wasChanges:e})},a._onChangeTitle=function(e){a.setState({title:e})},a._onChangeId=function(e){a.setState({id:e})},a._onChartAboutToBeSaved=function(){a.setState({isProcessing:!0})},a._onChartSaved=function(){a.setState({isProcessing:!1})},a._handleClickSave=function(){var e=a.state,t=e.wasChanges,n=e.isProcessing,i=e.isAuthenticated,r=e.id;i&&(n||!t&&r)||o(a._saveChartOrShowTitleDialog,{source:"Save chart",sourceMeta:"Chart"})},a._handleClickClone=function(){a._cloneChart()},a._handleClickSaveAs=function(){o(a._cloneChart,{source:"Clone chart"})},a._handleClickNew=function(){c.openNewChart()},a._handleClickLoad=function(){o(a._loadChart,{source:"Load chart",sourceMeta:"Chart"})},a._loadChart=function(){a.context.loadChartService.showLoadDialog()},a._handleHotkey=function(e){return!e.ctrlKey&&(!(46!==e.which||!$(e.target).is("body"))&&(a._loadChart(),e.preventDefault(),e.stopPropagation(),!0))},a._handleClickRename=function(){o(a._renameChart,{source:"Rename chart"})},a._renameChart=function(){
a.context.saveChartService.renameChart()},a._cloneChart=function(){a.context.saveChartService.cloneChart()},a._saveChartOrShowTitleDialog=function(){a.context.saveChartService.saveChartOrShowTitleDialog()},i=n.chartWidgetCollection,r=n.chartChangesWatcher,a.state={isAuthenticated:window.is_authenticated,isProcessing:!1,id:i.metaInfo.id.value(),title:i.metaInfo.name.value(),wasChanges:r.hasChanges(),iconHovered:!1},a}return i.__extends(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.chartSaver,n=e.isFake,o=e.stateSyncEmitter,i=this.context,r=i.chartWidgetCollection,a=i.chartChangesWatcher;n?o.on("change",this._syncState):(a.getOnChange().subscribe(this,this._onChangeHasChanges),r.metaInfo.name.subscribe(this._onChangeTitle),r.metaInfo.id.subscribe(this._onChangeId),l.registerListener("LoadChartDialogHotkey",this._handleHotkey),t.chartSaved().subscribe(this,this._onChartSaved),t.chartAboutToBeSaved().subscribe(this,this._onChartAboutToBeSaved),window.loginStateChange.subscribe(this,this._onLoginStateChange))},t.prototype.componentDidUpdate=function(e,t){this.props.isFake||t!==this.state&&this.props.stateSyncEmitter.emit("change",this.state)},t.prototype.componentWillUnmount=function(){var e=this.props,t=e.chartSaver,n=e.isFake,o=e.stateSyncEmitter,i=this.context,r=i.chartWidgetCollection,a=i.chartChangesWatcher;n?o.off("change",this._syncState):(a.getOnChange().unsubscribe(this,this._onChangeHasChanges),r.metaInfo.name.unsubscribe(this._onChangeTitle),r.metaInfo.id.unsubscribe(this._onChangeId),l.removeListener("LoadChartDialogHotkey"),t.chartSaved().unsubscribe(this,this._onChartSaved),t.chartAboutToBeSaved().unsubscribe(this,this._onChartAboutToBeSaved),window.loginStateChange.unsubscribe(this,this._onLoginStateChange))},t.prototype.render=function(){var e=this.props,t=e.isReadOnly,n=e.displayMode,o=e.id,a=this.state,s=a.isProcessing,l=a.isAuthenticated,c=a.title,d=a.id,h=a.wasChanges,p={onCloneChart:this._handleClickClone,onSaveChart:this._handleClickSave,onRenameChart:this._handleClickRename,onSaveAsChart:this._handleClickSaveAs,onNewChart:this._handleClickNew,onLoadChart:this._handleClickLoad};return r.createElement(u.ToolWidgetSaveLoadView,i.__assign({displayMode:n,isReadOnly:t,isAuthenticated:l,isProcessing:s,wasChanges:h,title:c,id:o,chartId:null!==d?d:void 0},p))},t.prototype._onLoginStateChange=function(){this.setState({isAuthenticated:window.is_authenticated})},t.contextTypes={chartWidgetCollection:a.object.isRequired,chartChangesWatcher:a.object.isRequired,saveChartService:a.object.isRequired,loadChartService:a.object.isRequired},t}(r.PureComponent),t.ToolWidgetSaveLoad=d},2387:function(e,t,n){"use strict";var o,i,r,a,s,l,c,u,d,h,p,v,m,g,f;Object.defineProperty(t,"__esModule",{value:!0}),o=n(4),i=n(46),r=n(447),a=n(405),s=n(1),l=n(102),c=n(1913),u=n(1925),d=n(2388),h=n(2389),p=n(1973),v=p.weakComposeClasses(u,d),m=o.__assign({},u,v),g={
takeSnapshot:window.t("Take instant snapshot of your chart. No more Paint or other editors to save screenshots – simply click the button and copy the link of the picture.")},f=function(e){function t(t,n){var o=e.call(this,t,n)||this;return o._handleClick=function(){if(!s.enabled("show_dialog_on_snapshot_ready")){if(o.state.isProcessing)return;o.setState({isProcessing:!0}),l.subscribe("onScreenshotReady",function(){return o.setState({isProcessing:!1})},null,!0)}o.context.chartWidgetCollection.takeScreenshot()},o.state={isProcessing:!1},o}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.color;return i.createElement(c.ToolWidgetButton,{icon:h,isDisabled:this.state.isProcessing,onClick:this._handleClick,title:g.takeSnapshot,theme:m,className:a(t,n&&m[n])})},t.contextTypes={chartWidgetCollection:r.object.isRequired},t}(i.PureComponent),t.ToolWidgetScreenshot=f},2388:function(e,t){e.exports={button:"button-3zsRYmii-",blue:"blue-pwiZpV6t-",green:"green-3Nv9iVIZ-",isInteractive:"isInteractive-12fBlRGf-",hovered:"hovered-Kk1N76Nt-"}},2389:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 21 17" width="21" height="17"><g fill="none" stroke="currentColor"><path d="M2.5 2.5h3.691a.5.5 0 0 0 .447-.276l.586-1.171A1 1 0 0 1 8.118.5h4.764a1 1 0 0 1 .894.553l.586 1.17a.5.5 0 0 0 .447.277H18.5a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-16a2 2 0 0 1-2-2v-10a2 2 0 0 1 2-2z"/><circle cx="10.5" cy="9.5" r="4"/></g></svg>'},2390:function(e,t,n){"use strict";var o,i,r,a,s,l,c,u;Object.defineProperty(t,"__esModule",{value:!0}),o=n(4),i=n(46),r=n(405),a=n(210),s=n(460),l=n(9),c=n(2391),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._actions=null,t._input=null,t._preventDefault=function(e){e.preventDefault()},t}return o.__extends(t,e),t.prototype.componentDidMount=function(){var e=l.ensureNotNull(this._input);a.bindToInput(e,{spreadActions:this._actions||void 0,syncWithChartWidget:!0,syncOnBlur:!0}),null!==this._actions&&Array.from(this._actions.querySelectorAll("button")).forEach(function(e){return e.tabIndex=-1})},t.prototype.render=function(){var e,t=this,n=this.props,o=n.isActionsVisible,a=n.isExpanded,l=n.onFocus,u=n.onBlur,d=n.id;return i.createElement("div",{id:d,className:c.wrap},i.createElement("div",{className:r(c.inner,(e={},e[c.isExpanded]=a,e))},i.createElement("input",{className:c.input,maxLength:1e3,onBlur:u,onFocus:l,ref:function(e){return t._input=e},type:"text",tabIndex:-1}),s.canShowSpreadActions()&&o&&i.createElement("div",{className:c.actions,onMouseDown:this._preventDefault,ref:function(e){return t._actions=e}})))},t}(i.PureComponent),t.ToolWidgetSymbolSearch=u},2391:function(e,t){e.exports={wrap:"wrap-CUt4Mg1V-",inner:"inner-32OP7ejC-",actions:"actions-1cGPn1dW-",input:"input-3lfOzLDc-",isExpanded:"isExpanded-1pdStI5Z-"}},2392:function(e,t,n){"use strict";var o,i,r,a,s,l,c,u,d,h,p,v,m,g,f,_;Object.defineProperty(t,"__esModule",{value:!0}),o=n(4),i=n(46),r=n(447),a=n(187),s=n(405),l=n(1896),c=n(1916),u=n(2393),d=n(2396),h=n(2397),
p=n(1904),v=n(1903),m=n(2399),g=n(2400),f={title:window.t("Templates"),tooltip:window.t("Study Templates")},_=function(e){function t(t,n){var o,i,r,s,l=e.call(this,t)||this;return l._handleFavorTemplate=function(e){if(l.props.isShownQuicks){var t=e.name;l._isTemplateFavorite(t)?l._removeFavoriteTemplate(t):l._addFavoriteTemplate(t)}},l._handleSaveTemplate=function(){l.context.studyTemplates.showSaveAsDialog()},l._handleApplyTemplate=function(e){l._handleClose(),l.context.studyTemplates.applyTemplate(e.name)},l._handleRemoveTemplate=function(e){l._handleClose(),l.context.studyTemplates.deleteStudyTemplate(e.name)},l._handleClose=function(){l._handleToggleDropdown(!1)},l._handleClick=function(e){e.stopPropagation(),l._handleToggleDropdown()},l._handleToggleDropdown=function(e){var t=l.state.isActive,n="boolean"==typeof e?e:!t;l.setState({isActive:n})},l._getDropdownPosition=function(){var e=a.findDOMNode(l._wrapControl).getBoundingClientRect();return{x:e.left,y:e.bottom+2}},l._getWrapRef=function(e){return l._wrapControl=e},l._syncStateChange=function(e){l.setState(e)},o=n.favoriteStudyTemplatesService,i=n.studyTemplates,r=void 0!==o?o.get():[],s=i.list(),l.state={isActive:!1,studyTemplatesList:s,favorites:r},l}return o.__extends(t,e),t.prototype.componentDidMount=function(){if(this.props.isFake)this.props.stateSyncEmitter.on("change",this._syncStateChange);else{var e=this.context,t=e.favoriteStudyTemplatesService,n=e.studyTemplates;n.getOnChange().subscribe(this,this._handleTemplatesChange),n.refreshStudyTemplateList(),void 0!==t&&t.getOnChange().subscribe(this,this._handleFavoritesChange)}},t.prototype.componentWillUnmount=function(){if(this.props.isFake)this.props.stateSyncEmitter.off("change",this._syncStateChange);else{var e=this.context,t=e.favoriteStudyTemplatesService;e.studyTemplates.getOnChange().unsubscribe(this,this._handleTemplatesChange),void 0!==t&&t.getOnChange().unsubscribe(this,this._handleFavoritesChange)}},t.prototype.componentDidUpdate=function(e,t){this.props.isFake||t===this.state||this.props.stateSyncEmitter.emit("change",{favorites:this.state.favorites,studyTemplatesList:this.state.studyTemplatesList})},t.prototype.render=function(){var e,t=this.state,n=t.isActive,o=t.studyTemplatesList,r=t.favorites,a=this.props,d=a.isShownQuicks,h=a.className,_=a.displayMode,w=a.id,y=o.filter(function(e){return r.includes(e.name)}),C="small"!==_&&d&&y.length>0,b=s(h,g.wrap,n&&g.opened,(e={},e[g.full]="full"===_,e[g.medium]="medium"===_,e));return i.createElement(p.ToolWidgetRowWrap,{id:w,className:b,onClick:this._handleClick,ref:this._getWrapRef},i.createElement(v.ToolWidgetCollapsibleButton,{displayMode:_,icon:m,text:f.title,title:f.tooltip,onClick:this._handleClick}),C&&this._renderQuicks(y),i.createElement(l.PopupMenu,{closeOnClickOutside:!0,doNotCloseOn:this,isOpened:n,onClose:this._handleClose,position:this._getDropdownPosition},i.createElement(u.SaveIndicatorMenuItem,{onClick:this._handleSaveTemplate}),o.length>0&&i.createElement(c.PopupMenuSeparator,null),this._renderMenuItems()))},
t.prototype._renderQuicks=function(e){var t=this;return e.map(function(e,n,o){return i.createElement(h.FavoriteStudyTemplateItem,{key:e.name,item:e,onApply:t._handleApplyTemplate,className:s((r={},r[g.first]=0===n,r[g.last]=n===o.length-1,r))});var r})},t.prototype._renderMenuItems=function(){var e=this,t=this.state.studyTemplatesList,n=this.props.isFavoritingAllowed;return t.map(function(t){return i.createElement(d.StudyTemplateListItem,{key:t.name,item:t,isFavoritingAllowed:n,favorite:e._isTemplateFavorite(t.name),onApply:e._handleApplyTemplate,onFavor:e._handleFavorTemplate,onRemove:e._handleRemoveTemplate})})},t.prototype._handleTemplatesChange=function(){this.setState({studyTemplatesList:this.context.studyTemplates.list()})},t.prototype._handleFavoritesChange=function(e){this.props.isShownQuicks&&this.setState({favorites:e})},t.prototype._removeFavoriteTemplate=function(e){var t,n=this.context.favoriteStudyTemplatesService;void 0!==n&&(t=this.state.favorites,n.set(t.filter(function(t){return t!==e})))},t.prototype._addFavoriteTemplate=function(e){var t,n=this.context.favoriteStudyTemplatesService;void 0!==n&&(t=this.state.favorites,n.set(t.concat([e])))},t.prototype._isTemplateFavorite=function(e){return this.state.favorites.includes(e)},t.contextTypes={favoriteStudyTemplatesService:r.object,studyTemplates:r.object.isRequired},t}(i.PureComponent),t.ToolWidgetTemplates=_},2393:function(e,t,n){"use strict";function o(e){return i.createElement(r.PopupMenuItem,{label:i.createElement("div",{className:s.label},i.createElement(a.Icon,{className:s.icon,icon:l}),i.createElement("div",{className:s.text},c.text)),onClick:e.onClick})}var i,r,a,s,l,c;Object.defineProperty(t,"__esModule",{value:!0}),i=n(46),r=n(1897),a=n(1162),s=n(2394),l=n(2395),c={text:window.t("Save Indicator Template...")},t.SaveIndicatorMenuItem=o},2394:function(e,t){e.exports={label:"label-1LxfyrID-",icon:"icon-3bTRbX0U-",text:"text-2BJe_3ce-"}},2395:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 17 14" width="17" height="14"><path d="M1 9v1.5A2.5 2.5 0 0 0 3.5 13h10a2.5 2.5 0 0 0 2.5-2.5V9h-1v1.5a1.5 1.5 0 0 1-1.5 1.5h-10A1.5 1.5 0 0 1 2 10.5V9H1z"/><path fill-rule="evenodd" d="M8 1h1v8H8z"/><path d="M5.354 5.646l-.708.708L8.5 10.207l3.854-3.853-.708-.708L8.5 8.793z"/></svg>'},2396:function(e,t,n){"use strict";var o,i,r,a,s,l;Object.defineProperty(t,"__esModule",{value:!0}),o=n(4),n(92),i=n(46),r=n(1956),a=n(2090),s=n(1897),l=function(e){function t(t){var n=e.call(this,t)||this;return n._handleMouseEnter=function(){n.setState({isHovered:!0})},n._handleMouseLeave=function(){n.setState({isHovered:!1})},n._handleApply=function(){var e=n.props,t=e.item;(0,e.onApply)(t)},n._handleRemove=function(){var e=n.props,t=e.item;(0,e.onRemove)(t)},n._handleFavor=function(){var e=n.props,t=e.item,o=e.onFavor;o&&o(t)},n.state={isHovered:!1},n}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.item,n=e.onFavor,o=e.favorite,l=e.isFavoritingAllowed,c=this.state.isHovered;return i.createElement("div",{
onMouseEnter:this._handleMouseEnter,onMouseLeave:this._handleMouseLeave},i.createElement(s.PopupMenuItem,{label:t.name,showToolboxOnHover:!o,onClick:this._handleApply,toolbox:[i.createElement(a.RemoveButton,{key:"remove",hidden:!Modernizr.touch&&!c,onClick:this._handleRemove}),!!n&&l&&i.createElement(r.FavoriteButton,{key:"favorite",isFilled:!!o,onClick:this._handleFavor})]}))},t}(i.PureComponent),t.StudyTemplateListItem=l},2397:function(e,t,n){"use strict";var o,i,r,a,s;Object.defineProperty(t,"__esModule",{value:!0}),o=n(4),i=n(46),r=n(405),a=n(2398),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._handleClick=function(e){e.stopPropagation();var n=t.props;(0,n.onApply)(n.item)},t}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.item;return i.createElement("div",{className:r(t,a.item,"apply-common-tooltip"),onClick:this._handleClick,title:n.name},n.name.length>0?n.name[0].toUpperCase():" ")},t}(i.PureComponent),t.FavoriteStudyTemplateItem=s},2398:function(e,t){e.exports={item:"item-b8AKccvl-",hovered:"hovered-2SpHqnXp-"}},2399:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path d="M12 22v-6h-1v6zm3 0v-4h-1v4zm3 0v-2h-1v2zm3 0v-4h-1v4zm3 0v-7h-1v7zM9 22v-4H8v4zm-3 0v-1H5v1z"/><path d="M5.5 17.207l4.65-4.65a1.906 1.906 0 0 1 2.7 0l2.593 2.593a2.906 2.906 0 0 0 4.114 0l4.65-4.65-.707-.707-4.65 4.65a1.906 1.906 0 0 1-2.7 0l-2.593-2.593a2.906 2.906 0 0 0-4.114 0l-4.65 4.65.707.707z"/><path d="M5.5 12.207l4.65-4.65a1.906 1.906 0 0 1 2.7 0l2.593 2.593a2.906 2.906 0 0 0 4.114 0l4.65-4.65-.707-.707-4.65 4.65a1.906 1.906 0 0 1-2.7 0L13.557 6.85a2.906 2.906 0 0 0-4.114 0l-4.65 4.65.707.707z"/></svg>'},2400:function(e,t){e.exports={wrap:"wrap-15BhAobm-",opened:"opened-1yAGeGGi-",full:"full-2VMT2UlC-",first:"first-1vAzGgSq-",last:"last-xMjAcadb-",medium:"medium-1BEsHMFf-",loader:"loader-1uURoPBh-"}},2401:function(e,t,n){"use strict";var o,i,r,a,s,l,c,u,d,h,p,v,m,g,f,_;Object.defineProperty(t,"__esModule",{value:!0}),o=n(4),n(2),i=n(46),n(26),r=n(23),a=n(1913),s=n(1904),l=n(2402),c=n(1925),u=n(2403),d=n(2404),h=n(1973),p=n(447),v={undoHint:window.t("Undo {0}"),redoHint:window.t("Redo {0}")},m=h.weakComposeClasses(c,l,{buttonUndo:"button",buttonRedo:"button"}),g=o.__assign({},c,{button:m.buttonUndo}),f=o.__assign({},c,{button:m.buttonRedo}),_=function(e){function t(t,n){var o=e.call(this,t,n)||this;return o._handleClickUndo=function(){r.trackEvent("GUI","Undo"),o.context.chartWidgetCollection.undoHistory.undo()},o._handleClickRedo=function(){r.trackEvent("GUI","Redo"),o.context.chartWidgetCollection.undoHistory.redo()},o.state=o._getStateFromUndoHistory(),o}return o.__extends(t,e),t.prototype.componentDidMount=function(){var e=this.context.chartWidgetCollection;e.undoHistory.redoStack().onChange().subscribe(this,this._onChangeStack),e.undoHistory.undoStack().onChange().subscribe(this,this._onChangeStack)},t.prototype.componentWillUnmount=function(){var e=this.context.chartWidgetCollection
;e.undoHistory.redoStack().onChange().unsubscribe(this,this._onChangeStack),e.undoHistory.undoStack().onChange().unsubscribe(this,this._onChangeStack)},t.prototype.render=function(){var e=this.props.id,t=this.state,n=t.isEnabledRedo,o=t.isEnabledUndo,r=t.redoStack,l=t.undoStack;return i.createElement(s.ToolWidgetRowWrap,{id:e},i.createElement(a.ToolWidgetButton,{icon:u,isDisabled:!o,onClick:this._handleClickUndo,title:o?v.undoHint.format(l):void 0,theme:g}),i.createElement(a.ToolWidgetButton,{icon:d,isDisabled:!n,onClick:this._handleClickRedo,title:n?v.redoHint.format(r):void 0,theme:f}))},t.prototype._onChangeStack=function(){var e=this._getStateFromUndoHistory();this.setState(e)},t.prototype._getStateFromUndoHistory=function(){var e=this.context.chartWidgetCollection,t=e.undoHistory.undoStack(),n=e.undoHistory.redoStack(),o=n.head(),i=t.head();return{isEnabledRedo:!n.isEmpty(),isEnabledUndo:!t.isEmpty(),redoStack:o?o.text():"",undoStack:i?i.text():""}},t.contextTypes={chartWidgetCollection:p.object.isRequired},t}(i.PureComponent),t.ToolWidgetUndoRedo=_},2402:function(e,t){e.exports={buttonUndo:"buttonUndo-342XpPC1-",buttonRedo:"buttonRedo-3o_XdU_J-"}},2403:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path d="M20 19v-1.5a5.5 5.5 0 0 0-5.5-5.5h-6v1h6a4.5 4.5 0 0 1 4.5 4.5V19h1z"/><path d="M12.354 8.854l-.708-.708L7.293 12.5l4.353 4.354.708-.708L8.707 12.5z"/></svg>'},2404:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path d="M9 19v-1.5a4.5 4.5 0 0 1 4.5-4.5h6v-1h-6A5.5 5.5 0 0 0 8 17.5V19h1z"/><path d="M15.646 16.146l.708.708 4.353-4.354-4.353-4.354-.708.708 3.647 3.646z"/></svg>'},2405:function(e,t,n){"use strict";var o,i,r,a,s,l,c;Object.defineProperty(t,"__esModule",{value:!0}),o=n(4),n(14),i=n(46),r=n(187),a=n(456),s=n(9),l=n(1904),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._ref=null,t._update=function(){t.forceUpdate()},t._setRef=function(e){t._ref=e},t._handleMeasure=function(e){var n=e.width;t.props.width.setValue(n)},t}return o.__extends(t,e),t.prototype.componentDidMount=function(){var e,t=this.props,n=t.jquery,o=t.isFake,i=t.width;o?i.subscribe(this._update):(e=s.ensureNotNull(this._ref),$(r.findDOMNode(e)).append(n))},t.prototype.componentWillUnmount=function(){var e=this.props,t=e.width;e.isFake&&t.unsubscribe(this._update)},t.prototype.render=function(){var e=this.props,t=e.isFake,n=void 0!==t&&t,o=e.width;return i.createElement(a,{shouldMeasure:!n,whitelist:["width"],onMeasure:this._handleMeasure},i.createElement(l.ToolWidgetRowWrap,{ref:this._setRef,style:n?{width:o.value()}:void 0}))},t}(i.PureComponent),t.ToolWidgetCustom=c},2406:function(e,t,n){"use strict";var o,i,r,a,s,l,c,u,d,h,p,v,m,g,f,_,w,y,C,b,S,k,x,M,T,E,I,W,A,O,L,P,N,R,D,F;Object.defineProperty(t,"__esModule",{value:!0}),o=n(4),i=n(46),r=n(447),a=n(405),s=n(1162),l=n(2091),c=n(1926),u=n(1896),d=n(1916),h=n(2409),p=n(2410),v=n(2412),m=n(2413),g=n(2414),f=n(2415),_=n(2416),
w=n(2417),y=n(2418),C=n(2419),b=n(2420),S=n(2421),k=n(2422),x=n(2011),M=n(2012),T=n(2013),E=n(2016),I=n(2014),W=n(2015),A=n(2020),O=n(2017),L=n(2018),P=n(2019),N={hint:window.t("Select Layout"),syncGroupTitle:window.t("Sync on all charts"),syncCrosshairLabel:window.t("Crosshair"),syncCrosshairHint:window.t("Crosshair is synced across all charts of the layout"),syncIntervalLabel:window.t("Interval"),syncIntervalHint:window.t("Interval changes on all charts of the layout simultaneously"),syncSymbolLabel:window.t("Symbol"),syncSymbolHint:window.t("Symbol changes on all charts of the layout simultaneously"),syncTrackLabel:window.t("Time"),syncTrackHint:window.t("When clicked on a single chart others get scrolled to display the same point on time axis")},R={s:[m,x],"2h":[g,M],"2v":[f,T],"3v":[_,E],"3h":[w,I],"3s":[y,W],"2-1":[C,A],4:[b,O],6:[S,L],8:[k,P]},D=[{layouts:["s"],title:"1"},{layouts:["2h","2v"],title:"2"},{layouts:["3v","3h","3s","2-1"],title:"3"},{layouts:["4"],title:"4"},{layouts:["6"],title:"6"},{layouts:["8"],title:"8"}],F=function(e){function t(t,n){var o=e.call(this,t,n)||this;return o._handleSyncSymbol=function(e){var t=o.context.chartWidgetCollection,n=!e.value();t.lock.setSymbolLockWithUndo(n)},o._handleSyncInterval=function(e){var t=o.context.chartWidgetCollection,n=!e.value();t.lock.setIntervalLockWithUndo(n)},o._handleSyncCrosshair=function(e){var t=!e.value();e.setValue(t)},o._handleSyncTrack=function(e){var t=o.context.chartWidgetCollection,n=!e.value();t.lock.setTrackTimeWithUndo(n)},o._onUpdateLayout=function(e){var t=o.context.chartWidgetCollection;o.setState({currentId:e||t.layout.value()})},o._handleClickLayout=function(e){u.globalClosePopupMenu();var t=o.context.chartWidgetCollection;t.layout.value()===e?t.maximizeCurrentChart.setValue(!1):t.setChartLayoutWithUndo(e)},o.state={currentId:"s"},o}return o.__extends(t,e),t.prototype.componentDidMount=function(){this.context.chartWidgetCollection.layout.subscribe(this._onUpdateLayout,{callWithLast:!0})},t.prototype.componentWillUnmount=function(){this.context.chartWidgetCollection.layout.unsubscribe(this._onUpdateLayout)},t.prototype.render=function(){var e=this.props,t=e.className,n=e.id,o=this.state.currentId;return i.createElement(c.ToolWidgetMenu,{id:n,arrow:!1,content:i.createElement(s.Icon,{className:v.icon,icon:R[o][1]}),title:N.hint,className:a(t,v.button)},i.createElement("div",{className:v.dropdown},this._renderLayoutList(),i.createElement("div",{className:v.title},N.syncGroupTitle),this._renderSyncTable()))},t.prototype._renderLayoutList=function(){var e=this,t=this.state.currentId;return i.createElement("div",null,D.map(function(n,o){return i.createElement(p.LayoutListRow,{key:n.title,title:n.title,separator:o!==D.length-1&&i.createElement(d.PopupMenuSeparator,null)},n.layouts.map(function(n){return i.createElement(p.LayoutListRowItem,{key:n,layout:n,icon:R[n][0],onClick:e._handleClickLayout,isActive:n===t})}))}))},t.prototype._renderSyncTable=function(){var e=this.context.chartWidgetCollection;return i.createElement("table",{
className:v.syncTable},i.createElement("tbody",null,i.createElement("tr",null,i.createElement("td",null,i.createElement(l.TogglerWatched,{label:N.syncSymbolLabel,hint:N.syncSymbolHint,watchedValue:e.lock.symbol,onClick:this._handleSyncSymbol})),i.createElement("td",null,i.createElement(l.TogglerWatched,{label:N.syncIntervalLabel,hint:N.syncIntervalHint,watchedValue:e.lock.interval,onClick:this._handleSyncInterval}))),i.createElement("tr",null,i.createElement("td",null,i.createElement(l.TogglerWatched,{label:N.syncCrosshairLabel,hint:N.syncCrosshairHint,watchedValue:e.lock.crosshair,onClick:this._handleSyncCrosshair})),i.createElement("td",null,i.createElement(l.TogglerWatched,{label:N.syncTrackLabel,hint:N.syncTrackHint,watchedValue:e.lock.trackTime,onClick:this._handleSyncTrack}))),i.createElement("tr",null,i.createElement("td",{colSpan:2},i.createElement(h.SyncDrawingsToggler,null)))))},t.contextTypes={chartWidgetCollection:r.object.isRequired},t}(i.PureComponent),t.ToolWidgetLayout=F},2407:function(e,t){e.exports={toggler:"toggler-3M6cPWhq-",hovered:"hovered-sDWDWJPw-",label:"label-3U-Q7znG-",centered:"centered-CTgzlaNx-",checked:"checked-1FNlvOzU-"}},2408:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 23 23" width="23" height="23"><circle fill="none" stroke="currentColor" cx="11.5" cy="11.5" r="11"/><path fill="currentColor" d="M11.366 6.636c0-.327.116-.6.348-.816a1.19 1.19 0 0 1 .846-.326c.327 0 .607.108.842.326.234.217.351.49.351.816 0 .322-.117.593-.351.813-.235.22-.515.33-.842.33-.328 0-.608-.109-.843-.326a1.067 1.067 0 0 1-.351-.817zM11.908 17h-1.86l1.186-6.372H10.23l.308-1.472h2.835L11.908 17z"/></svg>'},2409:function(e,t,n){"use strict";var o,i,r,a,s,l,c;Object.defineProperty(t,"__esModule",{value:!0}),o=n(4),n(2),i=n(46),r=n(2091),a=n(11),s=n(162),l={label:window.t("Drawings"),hint:window.t("New drawings are replicated to all charts and shown when the same ticker is selected.")},c=function(e){function t(t){var n=e.call(this,t)||this;return n._property=s.drawOnAllCharts(),n._handleClick=function(){a.saveDefaultProperties(!0),n._property.setValue(!n._property.value()),a.saveDefaultProperties(!1)},n.state={isActive:n._property.value()},n}return o.__extends(t,e),t.prototype.componentDidMount=function(){this._property.subscribe(this,this._onChange)},t.prototype.componentWillUnmount=function(){this._property.unsubscribe(this,this._onChange)},t.prototype.render=function(){var e=this.state.isActive;return i.createElement(r.Toggler,{label:l.label,hint:l.hint,isLabelCentered:!0,isChecked:e,onClick:this._handleClick})},t.prototype._onChange=function(e){this.setState({isActive:e.value()})},t}(i.PureComponent),t.SyncDrawingsToggler=c},2410:function(e,t,n){"use strict";function o(e){var t=e.title,n=e.children,o=e.separator;return r.createElement("div",{className:l.row},r.createElement("div",{className:l.rowInner},r.createElement("div",{className:l.rowLabel},t),r.createElement("div",{className:l.rowButtons},n)),o)}var i,r,a,s,l,c;Object.defineProperty(t,"__esModule",{value:!0}),i=n(4),
r=n(46),a=n(405),s=n(1162),l=n(2411),t.LayoutListRow=o,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._handleClick=function(){var e=t.props,n=e.layout;(0,e.onClick)(n)},t}return i.__extends(t,e),t.prototype.render=function(){var e,t=this.props,n=t.isActive,o=t.icon;return r.createElement("div",{className:l.layoutButtonWrap},r.createElement("div",{className:a(l.layoutButton,(e={},e[l.isActive]=n,e)),onClick:this._handleClick},r.createElement(s.Icon,{icon:o})))},t}(r.PureComponent),t.LayoutListRowItem=c},2411:function(e,t){e.exports={row:"row-txOnyZqX-",rowInner:"rowInner-1QH8tKyA-",rowLabel:"rowLabel-1Exz7IaM-",rowButtons:"rowButtons-3Cpcgn73-",layoutButtonWrap:"layoutButtonWrap-1no4xYwD-",layoutButton:"layoutButton-1RUQ3MV6-",hovered:"hovered-2pkyyhwF-",isActive:"isActive-1jEKN3Ib-",layoutButtons:"layoutButtons-1igAhA5w-"}},2412:function(e,t){e.exports={button:"button-15hYulep-",dropdown:"dropdown-338JX1v2-",title:"title-2P6mSSuQ-",icon:"icon-26CTZVvy-",syncTable:"syncTable-1R6gew45-"}},2413:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="23" height="21"><rect width="22" height="20" fill="none" stroke="currentColor" rx="2" x=".5" y=".5"/></svg>'},2414:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="23" height="21"><g fill="none" stroke="currentColor"><rect width="22" height="20" rx="2" x=".5" y=".5"/><path stroke-linecap="square" d="M11.5 1v19"/></g></svg>'},2415:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="23" height="21"><g fill="none" stroke="currentColor"><rect width="22" height="20" rx="2" x=".5" y=".5"/><path stroke-linecap="square" d="M1 10.5h21"/></g></svg>'},2416:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="23" height="21"><g fill="none" stroke="currentColor" transform="translate(0 1)"><rect width="22" height="18" rx="2" x=".5" y=".5"/><path stroke-linecap="square" d="M1 6.5h21m-21 6h21"/></g></svg>'},2417:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="22" height="21"><g fill="none" stroke="currentColor"><rect width="21" height="20" rx="2" x=".5" y=".5"/><path stroke-linecap="square" d="M7.5 1v19m7-19v19"/></g></svg>'},2418:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="23" height="21"><g fill="none" stroke="currentColor"><rect width="22" height="20" rx="2" x=".5" y=".5"/><path stroke-linecap="square" d="M11.5 1v19m.5-9.5h10"/></g></svg>'},2419:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="23" height="21"><g fill="none" stroke="currentColor"><rect width="22" height="20" rx="2" x=".5" y=".5"/><path stroke-linecap="square" d="M11.5 1v9M1 10.5h21"/></g></svg>'},2420:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="23" height="21"><g fill="none" stroke="currentColor"><rect width="22" height="20" rx="2" x=".5" y=".5"/><path stroke-linecap="square" d="M11.5 1v19M1 10.5h21"/></g></svg>'},2421:function(e,t){
e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="22" height="21"><g fill="none" stroke="currentColor"><rect width="21" height="20" rx="2" x=".5" y=".5"/><path stroke-linecap="square" d="M7.5 1v19m7-19v19M1 10.5h20"/></g></svg>'},2422:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="25" height="21"><g fill="none" stroke="currentColor"><rect width="24" height="20" rx="2" x=".5" y=".5"/><path stroke-linecap="square" d="M6.5 1v19m6-19v19m6-19v19M1 10.5h23"/></g></svg>'},626:function(e,t,n){"use strict";var o,i,r,a;Object.defineProperty(t,"__esModule",{value:!0}),o=n(4),i=n(46),r=n(187),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._handleOutsideEvent=function(e){t.props.handler&&!r.findDOMNode(t).contains(e.target)&&t.props.handler(e)},t}return o.__extends(t,e),t.prototype.componentDidMount=function(){this.props.click&&document.addEventListener("click",this._handleOutsideEvent,!1),this.props.mouseDown&&document.addEventListener("mousedown",this._handleOutsideEvent,!1),this.props.touchEnd&&document.addEventListener("touchend",this._handleOutsideEvent,!1),this.props.touchStart&&document.addEventListener("touchstart",this._handleOutsideEvent,!1)},t.prototype.componentWillUnmount=function(){this.props.click&&document.removeEventListener("click",this._handleOutsideEvent,!1),this.props.mouseDown&&document.removeEventListener("mousedown",this._handleOutsideEvent,!1),this.props.touchEnd&&document.removeEventListener("touchend",this._handleOutsideEvent,!1),this.props.touchStart&&document.removeEventListener("touchstart",this._handleOutsideEvent,!1)},t.prototype.render=function(){var e=this.props,t=(e.click,e.handler,e.mouseDown,e.touchEnd,e.touchStart,e.ctor),n=void 0===t?"span":t,r=o.__rest(e,["click","handler","mouseDown","touchEnd","touchStart","ctor"]);return i.createElement(n,o.__assign({},r))},t}(i.Component),t.OutsideEvent=a}});